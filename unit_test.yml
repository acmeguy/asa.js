testserver:
    image: asa.js
    command: ./node_modules/.bin/gulp serve

seleniumfirefox:
    image: selenium/standalone-firefox
    links:
        - testserver:web

seleniumchrome:
    image: selenium/standalone-chrome
    links:
        - testserver:web
        
saucelabs:
    image: ustwo/sauce-connect
    links:
        - testserver:web
    expose:
        - "8000"
    environment:
        - SAUCE_USERNAME=pshomov
        - SAUCE_ACCESS_KEY
    command: -P 8000

testfirefox:
    image: asa.js
    command: node saucelabs.js
    environment:
        - TEST_BROWSER=firefox
    links:
        - seleniumfirefox:selenium        

testchrome:
    image: asa.js
    command: node saucelabs.js
    environment:
        - TEST_BROWSER=chrome
    links:
        - seleniumchrome:selenium        

testie11:
    image: asa.js
    command: node saucelabs.js
    environment:
        - SAUCE_USERNAME=pshomov
        - SAUCE_ACCESS_KEY
        - TEST_BROWSER=internet explorer
        - TEST_BROWSER_VER=11.0
        - TEST_OS=windows 7
        - PORT=8000
    links:
        - saucelabs:selenium