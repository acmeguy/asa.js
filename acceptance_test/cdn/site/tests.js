!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,exports,e){e(22),e(63),e(64),t.exports=e(65)},,function(t,exports){function e(t){for(var n=e.options,r=n.parser[n.strictMode?"strict":"loose"].exec(t),o={},i=14;i--;)o[n.key[i]]=r[i]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(o[n.q.name][e]=r)}),o}e.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.exports=e},function(t,exports,e){var n=e(4),r=e(2);t.exports={sections:function(){var t=function(t,e){asa("sectionentered",e.substr(1))},e="";window.setInterval(function(){if(window.location.hash!=e){var n=window.location.hash;t(e,n),e=n}},100)},links:function(t){var e=t,o=function(t){var o=t.target.href;if(o){var i=r(o);if(e.indexOf(i.authority)>-1){var s=-1!==t.target.href.indexOf("?");o=o+(s?"&":"?")+"__asa_partner_id="+encodeURIComponent(window.asaId)+"&__asa_partner_sid="+encodeURIComponent(n.getSessionId()),t.target.href=o}}};document.addEventListener("mousedown",o),document.addEventListener("keyup",o),document.addEventListener("touchstart",o)}}},function(t,exports,e){var n=e(5),r=e(6),o=e(9),i=e(8),s=1800,a="__asa_session",u={hasItem:function(t){var e=window.sessionStorage.getItem(t);return e&&JSON.parse(e).t>1*new Date},getItem:function(t){return JSON.parse(window.sessionStorage.getItem(t)).v},setItem:function(t,e,n){window.sessionStorage.setItem(t,JSON.stringify({v:e,t:1*new Date+1e3*n}))},updateTimeout:function(t,e){var n=JSON.parse(window.sessionStorage.getItem(t));u.setItem(t,n.v,e)}},c=u,h={extendSession:function(){c.hasItem(a)?c.updateTimeout(a,s):(n.log("starting session"),c.setItem(a,r.getDomainId()+"."+i(r.getUserId()+"."+o.getNumber()),s))},getSessionId:function(){return c.getItem(a)}},p=function(t,e){return{extendSession:function(){e&&e()},getSessionId:function(){return t()}}},f=h;t.exports={extendSession:function(){f.extendSession()},getSessionId:function(){return f.getSessionId()},customSession:function(t,e){f=p(t,e)}}},function(t,exports){"undefined"==typeof console&&(window.console={}),"undefined"==typeof console.log&&(window.console.log=function(){});var e=function(){},n=function(){[].unshift.call(arguments,"asa.js:"),console.log.apply(console,arguments)},r=t.exports={log:e,setDebugMode:function(t){r.log=t?n:e},forceLog:n}},function(t,exports,e){var n=e(7),r=e(8),o=e(9),i="__as_user",s=function(){return r(window.location.host)+"."+r(""+o.getNumber())},a=function(){return n.hasItem(i)||n.setItem(i,s(),1/0,"/"),n.getItem(i)};t.exports={getUserId:a,getDomainId:function(){return r(window.location.host)},getUserHash:function(){return parseInt(a().split(".")[1],10)}}},function(t,exports){var e={getItem:function(t){return t?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(t,e,n,r,o,i){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var s="";if(n)switch(n.constructor){case Number:s=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:s="; expires="+n;break;case Date:s="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+s+(o?"; domain="+o:"")+(r?"; path="+r:"")+(i?"; secure":""),!0},removeItem:function(t,e,n){return this.hasItem(t)?(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(e?"; path="+e:""),!0):!1},hasItem:function(t){return t?new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=t.length,n=0;e>n;n++)t[n]=decodeURIComponent(t[n]);return t}};t.exports=e},function(t,exports){t.exports=function(t){var e,n,r=1,o=0;if(t)for(r=0,e=t.length-1;e>=0;e--)n=t.charCodeAt(e),r=(r<<6&268435455)+n+(n<<14),o=266338304&r,r=0!=o?r^o>>21:r;return r}},function(t,exports){t.exports={getNumber:function(){return Math.round(Math.random()*new Date)}}},function(t,exports,e){var n=e(4),r=e(11),o=e(3),i=e(5),s=e(13);t.exports=function(t){return function(){try{if("session"==arguments[0])return void n.customSession(arguments[1],arguments[2]);if("connectedPartners"==arguments[0])return void o.links(arguments[1]);if("tenantId"==arguments[0])return void(window.asaId=arguments[1]);if("debug"==arguments[0])return void i.setDebugMode(arguments[1]);if("transformer"==arguments[0])return void r.setMapper(arguments[1]);n.extendSession(),t(s["package"].apply(s,arguments))}catch(e){i.forceLog("inbox exception:",e)}}}},function(t,exports,e){var n=e(12),r=e(5),o=function(t,e){var o=t.attr("itemref");if("undefined"!=typeof o)for(var i=o.split(" "),s=0;s<i.length;s++){var u=i[s],c=n("#"+u);1===c.length?a(c.get(0),e):r.log("missing metadata element",u)}},i=function(t){var e={type:t.attr("itemtype"),properties:{}};return o(t,e),a(t,e),e},s=function(t){var e=t.prop("tagName");switch(e){case"TIME":return t.attr("datetime");case"A":case"LINK":return t.attr("href");default:return t.prop("content")||t.text()||t.attr("src")}},a=function(t,e){t.children().each(function(t,r){var o=n(r),u=o.attr("itemprop");"string"==typeof u&&("undefined"!=typeof o.attr("itemscope")?e.properties[u]=i(o):e.properties[u]=s(o)),"undefined"==typeof o.attr("itemscope")&&a(o,e)})},u=function(t){if(!t)return void 0;var e=[];if("string"==typeof t)t=n("#"+t).get(0);else{if("object"!=typeof t||"string"!=typeof t.tagName)return{};t=n(t)}var r=function(t){var o=n(t),s=o.attr("itemscope"),a=o.attr("itemprop");if("undefined"!=typeof s){if("undefined"!=typeof a)return;e.push(p(i(o),o))}else o.children().each(function(t,e){r(e)})};return r(t),0===e.length?{}:1===e.length?e[0]:{__items:e}},c=function(){var t={};return n('head > meta[property^="og:"]').each(function(){var e=n(this);t[e.attr("property")]=e.attr("content")}),n('head > meta[name="keywords"]').each(function(){var e=n(this);t.keywords=e.attr("content")}),p(t)},h=function(t){return t},p=h,f=function(t){return function(e,n){try{return t(e,n)}catch(r){return e}}};t.exports={extract:u,extractFromHead:c,setMapper:function(t){p=f(t)},noMapper:h}},function(t,exports){function e(){}function n(t){this._els=t,this.length=t.length}e.prototype.text=function(){return this._element.textContent},e.prototype.attr=function(t){var e=this._element.getAttribute(""+t);return null===e?void 0:e},e.prototype.prop=function(t){return this._element[t]},e.prototype.children=function(){var t,e=this._element.children,o=[],i=e.length;for(t=0;i>t;t++)o[t]=r(e[t]);return new n(o)},n.prototype.each=function(t){for(var e=0;e<this._els.length;e++){var n=this._els[e];t.call(n,e,n)}},n.prototype.get=function(t){return this._els[t]};var r=t.exports=function o(t){if(!t||!("string"==typeof t||t instanceof Element||t instanceof e||t instanceof n))throw new Error("Invalid argument provided:"+t);if(t instanceof e||t instanceof n)return t;if(t instanceof Element){var r=new e;return r._element=t,r}t=(""+t).trim();var i,s,a,u=[];try{for("#"===t[0]?(i=document.getElementById(t.substr(1)),i=i?[i]:[]):i=document.querySelectorAll(t),a=i.length,s=0;a>s;s++)u.push(o(i[s]));return new n(u)}catch(c){throw new Error("Invalid selector: "+t)}}},function(t,exports,e){var n=e(11),r=e(4),o=e(14),i=e(6),s=e(16),a=function(t){return t.length<2?!1:"object"==typeof t[1]&&"undefined"==typeof t[1].tagName?t[1]:!1},u=function(){var t=document.title,e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.hash+window.location.search,n=window.location.pathname+window.location.search;return{type:"pageview",page:n,location:e,title:t}},c=function(t,e){return e=e||window.location.pathname+window.location.hash+window.location.search,{type:"section_entered",page:e,section:t}},h=function(t){return{type:"custom",event:t}},p=function(t){var e=t[0],n={};if(e){switch(e.trim()){case"pageview":n=u.apply(null,[].slice.call(t,1));break;case"sectionentered":n=c.apply(null,[].slice.call(t,1));break;default:n=h.apply(null,t)}return n}throw new Error("Upsi! There is something wrong with this event:",t)},f=function(t){t.t=1*new Date,t.session=r.getSessionId(),t.uid=i.getUserId();var e=window.sessionStorage.getItem("__as.partner_id"),n=window.sessionStorage.getItem("__as.partner_sid");return e&&(t.partner_id=e),n&&(t.partner_sid=n),t.tenant_id=window.asaId,t.v=o.version(),t};t.exports={"package":function(t,e,r){var o=p(arguments);if(o=f(o),"pageview"==arguments[0])o.meta=n.extractFromHead(),"object"==typeof arguments[1]&&(o.meta=s.override(o.meta,arguments[1]));else if("itemview"==arguments[0])o.meta=a(arguments)||n.extract(arguments[1]);else if("sectionentered"==arguments[0])o.meta=a(arguments)||n.extract(arguments[1]);else{var i=void 0;"string"==typeof e||"object"==typeof e&&"undefined"!=typeof e.tagName?i=n.extract(e):"undefined"==typeof r&&"object"==typeof e&&(r=e,e=null),i=s.override(i,r),void 0!==i&&(o.meta=i)}return o}}},function(t,exports,e){var n=e(15),r=1,o=1,i=8;t.exports={major:r,minor:o,build:i,version:function(){var t="-"+n.experimentsLive();return"-"===t&&(t=""),[r,o,i].join(".")+t}}},function(t,exports,e){var n=e(6),r={};t.exports={defineExperiment:function(t,e){r[t]=n.getUserHash()%100<=e},isExperiment:function(t){var e=r[t];return!!e},clearExperiments:function(){r={}},experimentsLive:function(){var t=[];for(var e in r)r.hasOwnProperty(e)&&r[e]&&t.push(e);return t.join(".")},MINI_AJAX:"miniAjax"}},function(t,exports){var e=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};t.exports={override:function(t,n){if(!t&&!n)return void 0;if(!t&&n)return n;if(t&&!n)return t;var r={};return e(r,t),e(r,n),r}}},function(t,exports,e){var n,r=e(18),o=e(5),i=e(21),s=e(15),a=[],u=!0,c="//inbox.activitystream.com/asa",h=function(t,e){var n=i.post(c,"POST",e);n.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),n.send(JSON.stringify(t))},p=function(t){t instanceof Array||(t=[t]);var e={ev:t,t:1*new Date};o.log("submitting event: ",t),s.isExperiment(s.MINI_AJAX)?h(e,function(t,e){t?o.log("error on server",t):o.log("server got it")}):r.post(c).set("Content-Type","application/json").send(e).end(function(t,e){t?o.log("error on server",t):o.log("server got it")})},f=function(t){u=!1,t instanceof Array||(t=[t]);var e={ev:t,t:1*new Date};o.log("submitting event: ",t),r.post(c).set("Content-Type","application/json").send(e).end(function(e,n){e?o.log("error on server",e):(a.splice(0,t.length),o.log("server got it")),u=!0})};t.exports={submitEvent:p,batchEvent:function(t){a.push(t)},batchOn:function(){n=setInterval(function(){try{if(a.length>0&&u){var t=Math.min(a.length,10);f(a.slice(0,t))}}catch(e){o.log("exception submitting",e)}},400)},batchOff:function(){n?clearInterval(n):o.log("cannot batch off, it is not on")}}},function(t,exports,e){function n(){}function r(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(t){return t===Object(t)}function i(t){if(!o(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){for(var e,n,r={},o=t.split("&"),i=0,s=o.length;s>i;++i)n=o[i],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function a(t){var e,n,r,o,i=t.split(/\r?\n/),s={};i.pop();for(var a=0,u=i.length;u>a;++a)n=i[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),o=m(n.slice(e+1)),s[r]=o;return s}function u(t){return t.split(/ *; */).shift()}function c(t){return g(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(t,e){var n=this;d.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(r){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var o=new Error(e.statusText||"Unsuccessful HTTP response");o.original=t,o.response=e,o.status=e.status,n.callback(o,e)})}function f(t,e){return"function"==typeof e?new p("GET",t).end(e):1==arguments.length?new p("GET",t):new p(t,e)}var l,d=e(19),g=e(20);l="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,f.getXHR=function(){if(!(!l.XMLHttpRequest||l.location&&"file:"==l.location.protocol&&l.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var m="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};f.serializeObject=i,f.parseString=s,f.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=u(e);var n=c(e);for(var r in n)this[r]=n[r]},h.prototype.parse=function(t){return this.parser=t,this},h.prototype.parseBody=function(t){var e=this.parser||f.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},f.Response=h,d(p.prototype),p.prototype.use=function(t){return t(this),this},p.prototype.timeout=function(t){return this._timeout=t,this},p.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},p.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},p.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},p.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},p.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},p.prototype.type=function(t){return this.set("Content-Type",f.types[t]||t),this},p.prototype.accept=function(t){return this.set("Accept",f.types[t]||t),this},p.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},p.prototype.query=function(t){return"string"!=typeof t&&(t=i(t)),t&&this._query.push(t),this},p.prototype.field=function(t,e){return this._formData||(this._formData=new l.FormData),this._formData.append(t,e),this},p.prototype.attach=function(t,e,n){return this._formData||(this._formData=new l.FormData),this._formData.append(t,e,n),this},p.prototype.send=function(t){var e=o(t),n=this.getHeader("Content-Type");if(e&&o(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||r(t)?this:(n||this.type("json"),this)},p.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},p.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},p.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(t){var e=this,o=this.xhr=f.getXHR(),i=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||n,o.onreadystatechange=function(){if(4==o.readyState){var t;try{t=o.status}catch(n){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(o.onprogress=u);try{o.upload&&this.hasListeners("progress")&&(o.upload.onprogress=u)}catch(c){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),i&&(i=f.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),o.open(this.method,this.url,!0),this._withCredentials&&(o.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!r(a)){var h=this.getHeader("Content-Type"),p=f.serialize[h?h.split(";")[0]:""];p&&(a=p(a))}for(var l in this.header)null!=this.header[l]&&o.setRequestHeader(l,this.header[l]);return this.emit("request",this),o.send(a),this},p.prototype.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},f.Request=p,f.get=function(t,e,n){var r=f("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},f.head=function(t,e,n){var r=f("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.del=function(t,e){var n=f("DELETE",t);return e&&n.end(e),n},f.patch=function(t,e,n){var r=f("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.post=function(t,e,n){var r=f("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},f.put=function(t,e,n){var r=f("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},t.exports=f},function(t,exports){function e(t){return t?n(t):void 0}function n(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,exports){t.exports=function(t,e,n){for(var r=0,o=t.length,i=3==arguments.length?n:t[r++];o>r;)i=e.call(null,i,t[r],++r,t);return i}},function(t,exports){t.exports={post:function(t,e,n){var r;if(!XMLHttpRequest){if(XDomainRequest)return r=new XDomainRequest,r.open(e,t),r.onerror=function(t){n(t,null)},r.onload=function(){n(null,r.responseText)},r;throw new Error("CORS not supported")}return r=new XMLHttpRequest,"withCredentials"in r?(r.open(e,t,!0),r.onerror=function(t){n(t,null)},r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<400?n(null,r.responseText):n(new Error("Response returned with non-OK status")))},r):void 0}}},function(t,exports,e){var n=e(10),r=e(23).expect,o=e(17),i=e(14),s=e(15);describe("inbox",function(){var t,e,a=[],u=function(t){for(var e=JSON.parse(a[0].requestBody),n=0;n<e.ev.length;n++){var r=e.ev[n];t||delete r.session,delete r.uid,delete r.t,delete r.location}return delete e.t,e},c=function(t){for(var e=0;e<t.ev.length;e++){var n=t.ev[e];n.v=i.version(),n.location&&delete n.location}return t};beforeEach(function(){s.clearExperiments(),a=[],t=sinon.useFakeXMLHttpRequest(),t.onCreate=function(t){a.push(t)},e=n(o.submitEvent)}),afterEach(function(){t.restore()}),describe("default pageview",function(){it("should sent only one event",function(){e("pageview"),r(a.length).to.equal(1)}),it("should be a POST with data describing the event",function(){e("pageview");var t=c({ev:[{type:"pageview",page:"/test.html",location:"sadfs",title:"Opera, Ballett og Konserter | Operaen \\ Den Norske Opera & Ballett",meta:{"og:description":"Velkommen til Den Norske Opera & Ballett. Her finner du informasjon om våre forestillinger, opera, ballett, konserter og andre kulturtilbud.","og:url":"http://operaen.no/","og:title":"Opera, Ballett og Konserter | Operaen  \\ Den Norske Opera & Ballett","og:site_name":"Operaen.no","og:type":"website",keywords:"Den Norske Opera & Ballett, operaen, ballett, nasjonalballetten, nasjonaloperaen, operahuset, konserter, operakoret, operaorkestret, Operaen, forestillinger, operabutikken, opera, Oslo, oslo opera, operaballetten, konserter"}}]});r(u()).to.eql(t)})}),describe("pageview with custom meta",function(){it("should be a POST with data describing the event",function(){e("pageview",{a:"s"});var t=c({ev:[{type:"pageview",page:"/test.html",location:"sadfs",title:"Opera, Ballett og Konserter | Operaen \\ Den Norske Opera & Ballett",meta:{"og:description":"Velkommen til Den Norske Opera & Ballett. Her finner du informasjon om våre forestillinger, opera, ballett, konserter og andre kulturtilbud.","og:url":"http://operaen.no/","og:title":"Opera, Ballett og Konserter | Operaen  \\ Den Norske Opera & Ballett","og:site_name":"Operaen.no","og:type":"website",keywords:"Den Norske Opera & Ballett, operaen, ballett, nasjonalballetten, nasjonaloperaen, operahuset, konserter, operakoret, operaorkestret, Operaen, forestillinger, operabutikken, opera, Oslo, oslo opera, operaballetten, konserter",a:"s"}}]});r(u()).to.eql(t)})}),describe("custom events",function(){it("should send no metadata when none specified",function(){e("custom_one");var t=c({ev:[{type:"custom",event:"custom_one"}]});r(u()).to.eql(t)}),it("should send metadata when client id specified as string",function(){e("custom_one","offer1");var t=c({ev:[{type:"custom",event:"custom_one",meta:{type:"http://schema.org/Offer",properties:{name:"Blend-O-Matic",price:"$19.95",reviews:{type:"http://schema.org/AggregateRating",properties:{ratingValue:"4",bestRating:"5",ratingCount:"25"}}}}}]});r(u()).to.eql(t)}),it("should send metadata when specified as DOM element",function(){e("custom_one",document.getElementById("offer1"));var t=c({ev:[{type:"custom",event:"custom_one",meta:{type:"http://schema.org/Offer",properties:{name:"Blend-O-Matic",price:"$19.95",reviews:{type:"http://schema.org/AggregateRating",properties:{ratingValue:"4",bestRating:"5",ratingCount:"25"}}}}}]});r(u()).to.eql(t)}),it("should send metadata when specified as explicit extra one",function(){e("custom_one",{a:"s"});var t=c({ev:[{type:"custom",event:"custom_one",meta:{a:"s"}}]});r(u()).to.eql(t)}),it("should send metadata when specified as DOM element and extra metadata",function(){e("custom_one",document.getElementById("offer1"),{a:"s"});var t=c({ev:[{type:"custom",event:"custom_one",meta:{a:"s",type:"http://schema.org/Offer",properties:{name:"Blend-O-Matic",price:"$19.95",reviews:{type:"http://schema.org/AggregateRating",properties:{ratingValue:"4",bestRating:"5",ratingCount:"25"}}}}}]});r(u()).to.eql(t)}),it("should send metadata when specified as DOM element ID and extra metadata",function(){e("custom_one","offer1",{a:"s"});var t=c({ev:[{type:"custom",event:"custom_one",meta:{a:"s",type:"http://schema.org/Offer",properties:{name:"Blend-O-Matic",price:"$19.95",reviews:{type:"http://schema.org/AggregateRating",properties:{ratingValue:"4",bestRating:"5",ratingCount:"25"}}}}}]});r(u()).to.eql(t)})}),describe("experiment miniAjax",function(){it("should be a POST with data describing the event",function(){s.defineExperiment(s.MINI_AJAX,100),e("pageview",{a:"s"});var t=c({ev:[{type:"pageview",page:"/test.html",location:"sadfs",title:"Opera, Ballett og Konserter | Operaen \\ Den Norske Opera & Ballett",meta:{"og:description":"Velkommen til Den Norske Opera & Ballett. Her finner du informasjon om våre forestillinger, opera, ballett, konserter og andre kulturtilbud.","og:url":"http://operaen.no/","og:title":"Opera, Ballett og Konserter | Operaen  \\ Den Norske Opera & Ballett","og:site_name":"Operaen.no","og:type":"website",keywords:"Den Norske Opera & Ballett, operaen, ballett, nasjonalballetten, nasjonaloperaen, operahuset, konserter, operakoret, operaorkestret, Operaen, forestillinger, operabutikken, opera, Oslo, oslo opera, operaballetten, konserter",a:"s"}}]});r(u()).to.eql(t)})}),describe("batching",function(){it("should have both events",function(t){o.batchOn();var e=n(o.batchEvent);e("pageview",{a:"s"}),e("pageview",{a:"d"}),setTimeout(function(){o.batchOff();var e=c({ev:[{type:"pageview",page:"/test.html",location:"sadfs",title:"Opera, Ballett og Konserter | Operaen \\ Den Norske Opera & Ballett",meta:{"og:description":"Velkommen til Den Norske Opera & Ballett. Her finner du informasjon om våre forestillinger, opera, ballett, konserter og andre kulturtilbud.","og:url":"http://operaen.no/","og:title":"Opera, Ballett og Konserter | Operaen  \\ Den Norske Opera & Ballett","og:site_name":"Operaen.no","og:type":"website",keywords:"Den Norske Opera & Ballett, operaen, ballett, nasjonalballetten, nasjonaloperaen, operahuset, konserter, operakoret, operaorkestret, Operaen, forestillinger, operabutikken, opera, Oslo, oslo opera, operaballetten, konserter",a:"s"}},{type:"pageview",page:"/test.html",location:"sadfs",title:"Opera, Ballett og Konserter | Operaen \\ Den Norske Opera & Ballett",meta:{"og:description":"Velkommen til Den Norske Opera & Ballett. Her finner du informasjon om våre forestillinger, opera, ballett, konserter og andre kulturtilbud.","og:url":"http://operaen.no/","og:title":"Opera, Ballett og Konserter | Operaen  \\ Den Norske Opera & Ballett","og:site_name":"Operaen.no","og:type":"website",keywords:"Den Norske Opera & Ballett, operaen, ballett, nasjonalballetten, nasjonaloperaen, operahuset, konserter, operakoret, operaorkestret, Operaen, forestillinger, operabutikken, opera, Oslo, oslo opera, operaballetten, konserter",a:"d"}}]});r(u()).to.eql(e),t()},700)})}),describe("custom session management",function(){it("should allow devs to provide their own session id",function(){e("session",function(){return"my_session"}),e("pageview"),r(u(!0).ev[0].session).to.equal("my_session")})})})},function(t,exports,e){t.exports=e(24)},function(t,exports,e){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var n=[],exports=t.exports={};/*!
	 * Chai version
	 */
exports.version="3.4.0",/*!
	 * Assertion Error
	 */
exports.AssertionError=e(25);/*!
	 * Utils for plugins (not exported)
	 */
var r=e(26);exports.use=function(t){return~n.indexOf(t)||(t(this,r),n.push(t)),this},/*!
	 * Utility Functions
	 */
exports.util=r;/*!
	 * Configuration
	 */
var o=e(39);exports.config=o;/*!
	 * Primary `Assertion` prototype
	 */
var i=e(58);exports.use(i);/*!
	 * Core Assertions
	 */
var s=e(59);exports.use(s);/*!
	 * Expect interface
	 */
var a=e(60);exports.use(a);/*!
	 * Should interface
	 */
var u=e(61);exports.use(u);/*!
	 * Assert interface
	 */
var c=e(62);exports.use(c)},function(t,exports){/*!
	 * assertion-error
	 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
	 * MIT Licensed
	 */
/*!
	 * Return a function that will copy properties from
	 * one object to another excluding any originally
	 * listed. Returned function will create a new `{}`.
	 *
	 * @param {String} excluded properties ...
	 * @return {Function}
	 */
function e(){function t(t,n){Object.keys(n).forEach(function(r){~e.indexOf(r)||(t[r]=n[r])})}var e=[].slice.call(arguments);return function(){for(var e=[].slice.call(arguments),n=0,r={};n<e.length;n++)t(r,e[n]);return r}}function n(t,n,r){var o=e("name","message","stack","constructor","toJSON"),i=o(n||{});this.message=t||"Unspecified AssertionError",this.showDiff=!1;for(var s in i)this[s]=i[s];r=r||arguments.callee,r&&Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack}/*!
	 * Primary Exports
	 */
t.exports=n,/*!
	 * Inherit from Error.prototype
	 */
n.prototype=Object.create(Error.prototype),/*!
	 * Statically set name
	 */
n.prototype.name="AssertionError",/*!
	 * Ensure correct constructor
	 */
n.prototype.constructor=n,n.prototype.toJSON=function(t){var n=e("constructor","toJSON","stack"),r=n({name:this.name},this);return!1!==t&&this.stack&&(r.stack=this.stack),r}},function(t,exports,e){/*!
	 * chai
	 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Main exports
	 */
var exports=t.exports={};/*!
	 * test utility
	 */
exports.test=e(27),/*!
	 * type utility
	 */
exports.type=e(29),/*!
	 * expectTypes utility
	 */
exports.expectTypes=e(31),/*!
	 * message utility
	 */
exports.getMessage=e(32),/*!
	 * actual utility
	 */
exports.getActual=e(33),/*!
	 * Inspect util
	 */
exports.inspect=e(34),/*!
	 * Object Display util
	 */
exports.objDisplay=e(38),/*!
	 * Flag utility
	 */
exports.flag=e(28),/*!
	 * Flag transferring utility
	 */
exports.transferFlags=e(40),/*!
	 * Deep equal utility
	 */
exports.eql=e(41),/*!
	 * Deep path value
	 */
exports.getPathValue=e(49),/*!
	 * Deep path info
	 */
exports.getPathInfo=e(50),/*!
	 * Check if a property exists
	 */
exports.hasProperty=e(51),/*!
	 * Function name
	 */
exports.getName=e(35),/*!
	 * add Property
	 */
exports.addProperty=e(52),/*!
	 * add Method
	 */
exports.addMethod=e(53),/*!
	 * overwrite Property
	 */
exports.overwriteProperty=e(54),/*!
	 * overwrite Method
	 */
exports.overwriteMethod=e(55),/*!
	 * Add a chainable method
	 */
exports.addChainableMethod=e(56),/*!
	 * Overwrite chainable method
	 */
exports.overwriteChainableMethod=e(57)},function(t,exports,e){/*!
	 * Chai - test utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var n=e(28);t.exports=function(t,e){var r=n(t,"negate"),o=e[0];return r?!o:o}},function(t,exports){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));return 3!==arguments.length?r[e]:void(r[e]=n)}},function(t,exports,e){t.exports=e(30)},function(t,exports){function e(t){var e=Object.prototype.toString.call(t).match(r)[1].toLowerCase();return"function"==typeof Promise&&t instanceof Promise?"promise":null===t?"null":void 0===t?"undefined":e}function n(){return this instanceof n?void(this.tests={}):new n}/*!
	 * type-detect
	 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Primary Exports
	 */
var exports=t.exports=e,r=/^\[object (.*)\]$/;exports.Library=n,n.prototype.of=e,n.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},n.prototype.test=function(t,n){if(n===e(t))return!0;var r=this.tests[n];if(r&&"regexp"===e(r))return r.test(t);if(r&&"function"===e(r))return r(t);throw new ReferenceError('Type test "'+n+'" not defined or invalid.')}},function(t,exports,e){/*!
	 * Chai - expectTypes utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var n=e(25),r=e(28),o=e(29);t.exports=function(t,e){var t=r(t,"object");e=e.map(function(t){return t.toLowerCase()}),e.sort();var i=e.map(function(t,n){var r=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an":"a",o=e.length>1&&n===e.length-1?"or ":"";return o+r+" "+t}).join(", ");if(!e.some(function(e){return o(t)===e}))throw new n("object tested must be "+i+", but "+o(t)+" given")}},function(t,exports,e){/*!
	 * Chai - message composition utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var n=e(28),r=e(33),o=(e(34),e(38));t.exports=function(t,e){var i=n(t,"negate"),s=n(t,"object"),a=e[3],u=r(t,e),c=i?e[2]:e[1],h=n(t,"message");return"function"==typeof c&&(c=c()),c=c||"",c=c.replace(/#{this}/g,o(s)).replace(/#{act}/g,o(u)).replace(/#{exp}/g,o(a)),h?h+": "+c:c}},function(t,exports){/*!
	 * Chai - getActual utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){return e.length>4?e[4]:t._obj}},function(t,exports,e){function n(t,e,n,o){var i={showHidden:e,seen:[],stylize:function(t){return t}};return r(i,t,"undefined"==typeof n?2:n)}function r(t,e,n){if(e&&"function"==typeof e.inspect&&e.inspect!==exports.inspect&&(!e.constructor||e.constructor.prototype!==e)){var l=e.inspect(n);return"string"!=typeof l&&(l=r(t,l,n)),l}var y=o(t,e);if(y)return y;if(v(e)){if("outerHTML"in e)return e.outerHTML;try{if(document.xmlVersion){var w=new XMLSerializer;return w.serializeToString(e)}var b="http://www.w3.org/1999/xhtml",x=document.createElementNS(b,"_");return x.appendChild(e.cloneNode(!1)),html=x.innerHTML.replace("><",">"+e.innerHTML+"<"),x.innerHTML="",html}catch(_){}}var E=m(e),O=t.showHidden?g(e):E;if(0===O.length||f(e)&&(1===O.length&&"stack"===O[0]||2===O.length&&"description"===O[0]&&"stack"===O[1])){if("function"==typeof e){var k=d(e),j=k?": "+k:"";return t.stylize("[Function"+j+"]","special")}if(h(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(p(e))return t.stylize(Date.prototype.toUTCString.call(e),"date");if(f(e))return i(e)}var I="",A=!1,T=["{","}"];if(c(e)&&(A=!0,T=["[","]"]),"function"==typeof e){var k=d(e),j=k?": "+k:"";I=" [Function"+j+"]"}if(h(e)&&(I=" "+RegExp.prototype.toString.call(e)),p(e)&&(I=" "+Date.prototype.toUTCString.call(e)),f(e))return i(e);if(0===O.length&&(!A||0==e.length))return T[0]+I+T[1];if(0>n)return h(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var S;return S=A?s(t,e,n,E,O):O.map(function(r){return a(t,e,n,E,r,A)}),t.seen.pop(),u(S,I,T)}function o(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return 0===e&&1/e===-(1/0)?t.stylize("-0","number"):t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}return null===e?t.stylize("null","null"):void 0}function i(t){return"["+Error.prototype.toString.call(t)+"]"}function s(t,e,n,r,o){for(var i=[],s=0,u=e.length;u>s;++s)Object.prototype.hasOwnProperty.call(e,String(s))?i.push(a(t,e,n,r,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(a(t,e,n,r,o,!0))}),i}function a(t,e,n,o,i,s){var a,u;if(e.__lookupGetter__&&(e.__lookupGetter__(i)?u=e.__lookupSetter__(i)?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.__lookupSetter__(i)&&(u=t.stylize("[Setter]","special"))),o.indexOf(i)<0&&(a="["+i+"]"),u||(t.seen.indexOf(e[i])<0?(u=null===n?r(t,e[i],null):r(t,e[i],n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&i.match(/^\d+$/))return u;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function u(t,e,n){var r=0,o=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function c(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===l(t)}function h(t){return"object"==typeof t&&"[object RegExp]"===l(t)}function p(t){return"object"==typeof t&&"[object Date]"===l(t)}function f(t){return"object"==typeof t&&"[object Error]"===l(t)}function l(t){return Object.prototype.toString.call(t)}var d=e(35),g=e(36),m=e(37);t.exports=n;var v=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}},function(t,exports){/*!
	 * Chai - getName utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){if(t.name)return t.name;var e=/^\s?function ([^(]*)\(/.exec(t);return e&&e[1]?e[1]:""}},function(t,exports){/*!
	 * Chai - getProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){function e(t){-1===n.indexOf(t)&&n.push(t)}for(var n=Object.getOwnPropertyNames(t),r=Object.getPrototypeOf(t);null!==r;)Object.getOwnPropertyNames(r).forEach(e),r=Object.getPrototypeOf(r);return n}},function(t,exports){/*!
	 * Chai - getEnumerableProperties utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t){var e=[];for(var n in t)e.push(n);return e}},function(t,exports,e){/*!
	 * Chai - flag utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependancies
	 */
var n=e(34),r=e(39);t.exports=function(t){var e=n(t),o=Object.prototype.toString.call(t);if(r.truncateThreshold&&e.length>=r.truncateThreshold){if("[object Function]"===o)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===o)return"[ Array("+t.length+") ]";if("[object Object]"===o){var i=Object.keys(t),s=i.length>2?i.splice(0,2).join(", ")+", ...":i.join(", ");return"{ Object ("+s+") }"}return e}return e}},function(t,exports){t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},function(t,exports){/*!
	 * Chai - transferFlags utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){var r=t.__flags||(t.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var o in r)(n||"object"!==o&&"ssfi"!==o&&"message"!=o)&&(e.__flags[o]=r[o])}},function(t,exports,e){t.exports=e(42)},function(t,exports,e){function n(t,e,n){return r(t,e)?!0:"date"===d(t)?i(t,e):"regexp"===d(t)?s(t,e):l.isBuffer(t)?h(t,e):"arguments"===d(t)?a(t,e,n):o(t,e)?"object"!==d(t)&&"object"!==d(e)&&"array"!==d(t)&&"array"!==d(e)?r(t,e):f(t,e,n):!1}/*!
	 * Strict (egal) equality test. Ensures that NaN always
	 * equals NaN and `-0` does not equal `+0`.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} equal match
	 */
function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}/*!
	 * Compare the types of two given objects and
	 * return if they are equal. Note that an Array
	 * has a type of `array` (not `object`) and arguments
	 * have a type of `arguments` (not `array`/`object`).
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function o(t,e){return d(t)===d(e)}/*!
	 * Compare two Date objects by asserting that
	 * the time values are equal using `saveValue`.
	 *
	 * @param {Date} a
	 * @param {Date} b
	 * @return {Boolean} result
	 */
function i(t,e){return"date"!==d(e)?!1:r(t.getTime(),e.getTime())}/*!
	 * Compare two regular expressions by converting them
	 * to string and checking for `sameValue`.
	 *
	 * @param {RegExp} a
	 * @param {RegExp} b
	 * @return {Boolean} result
	 */
function s(t,e){return"regexp"!==d(e)?!1:r(t.toString(),e.toString())}/*!
	 * Assert deep equality of two `arguments` objects.
	 * Unfortunately, these must be sliced to arrays
	 * prior to test to ensure no bad behavior.
	 *
	 * @param {Arguments} a
	 * @param {Arguments} b
	 * @param {Array} memoize (optional)
	 * @return {Boolean} result
	 */
function a(t,e,r){return"arguments"!==d(e)?!1:(t=[].slice.call(t),e=[].slice.call(e),n(t,e,r))}/*!
	 * Get enumerable properties of a given object.
	 *
	 * @param {Object} a
	 * @return {Array} property names
	 */
function u(t){var e=[];for(var n in t)e.push(n);return e}/*!
	 * Simple equality for flat iterable objects
	 * such as Arrays or Node.js buffers.
	 *
	 * @param {Iterable} a
	 * @param {Iterable} b
	 * @return {Boolean} result
	 */
function c(t,e){if(t.length!==e.length)return!1;for(var n=0,r=!0;n<t.length;n++)if(t[n]!==e[n]){r=!1;break}return r}/*!
	 * Extension to `iterableEqual` specifically
	 * for Node.js Buffers.
	 *
	 * @param {Buffer} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function h(t,e){return l.isBuffer(e)?c(t,e):!1}/*!
	 * Block for `objectEqual` ensuring non-existing
	 * values don't get in.
	 *
	 * @param {Mixed} object
	 * @return {Boolean} result
	 */
function p(t){return null!==t&&void 0!==t}/*!
	 * Recursively check the equality of two objects.
	 * Once basic sameness has been established it will
	 * defer to `deepEqual` for each enumerable key
	 * in the object.
	 *
	 * @param {Mixed} a
	 * @param {Mixed} b
	 * @return {Boolean} result
	 */
function f(t,e,r){if(!p(t)||!p(e))return!1;if(t.prototype!==e.prototype)return!1;var o;if(r){for(o=0;o<r.length;o++)if(r[o][0]===t&&r[o][1]===e||r[o][0]===e&&r[o][1]===t)return!0}else r=[];try{var i=u(t),s=u(e)}catch(a){return!1}if(i.sort(),s.sort(),!c(i,s))return!1;r.push([t,e]);var h;for(o=i.length-1;o>=0;o--)if(h=i[o],!n(t[h],e[h],r))return!1;return!0}/*!
	 * deep-eql
	 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var l,d=e(43);try{l=e(45).Buffer}catch(g){l={},l.isBuffer=function(){return!1}}/*!
	 * Primary Export
	 */
t.exports=n},function(t,exports,e){t.exports=e(44)},function(t,exports){function e(t){var e=Object.prototype.toString.call(t);return r[e]?r[e]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}function n(){this.tests={}}/*!
	 * type-detect
	 * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Primary Exports
	 */
var exports=t.exports=e,r={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};exports.Library=n,n.prototype.of=e,n.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},n.prototype.test=function(t,n){if(n===e(t))return!0;var r=this.tests[n];if(r&&"regexp"===e(r))return r.test(t);if(r&&"function"===e(r))return r(t);throw new ReferenceError('Type test "'+n+'" not defined or invalid.')}},function(t,exports,e){(function(t,n){function r(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(e){return this instanceof t?(this.length=0,this.parent=void 0,"number"==typeof e?i(this,e):"string"==typeof e?s(this,e,arguments.length>1?arguments[1]:"utf8"):a(this,e)):arguments.length>1?new t(e,arguments[1]):new t(e)}function i(e,n){if(e=d(e,0>n?0:0|g(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;n>r;r++)e[r]=0;return e}function s(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|v(e,n);return t=d(t,r),t.write(e,n),t}function a(e,n){if(t.isBuffer(n))return u(e,n);if(G(n))return c(e,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return h(e,n);if(n instanceof ArrayBuffer)return p(e,n)}return n.length?f(e,n):l(e,n)}function u(t,e){var n=0|g(e.length);return t=d(t,n),e.copy(t,0,0,n),t}function c(t,e){var n=0|g(e.length);t=d(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(t,e){var n=0|g(e.length);t=d(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function p(e,n){return t.TYPED_ARRAY_SUPPORT?(n.byteLength,e=t._augment(new Uint8Array(n))):e=h(e,new Uint8Array(n)),e}function f(t,e){var n=0|g(e.length);t=d(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function l(t,e){var n,r=0;"Buffer"===e.type&&G(e.data)&&(n=e.data,r=0|g(n.length)),t=d(t,r);for(var o=0;r>o;o+=1)t[o]=255&n[o];return t}function d(e,n){t.TYPED_ARRAY_SUPPORT?(e=t._augment(new Uint8Array(n)),e.__proto__=t.prototype):(e.length=n,e._isBuffer=!0);var r=0!==n&&n<=t.poolSize>>>1;return r&&(e.parent=Z),e}function g(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function m(e,n){if(!(this instanceof m))return new m(e,n);var r=new t(e,n);return delete r.parent,r}function v(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return A(this,e,n);case"binary":return T(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;r>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function b(t,e,n,r){return J(F(e,t.length-n),t,n,r)}function x(t,e,n,r){return J(z(e),t,n,r)}function _(t,e,n,r){return x(t,e,n,r)}function E(t,e,n,r){return J(X(e),t,n,r)}function O(t,e,n,r){return J(Y(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;n>o;){var i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(n>=o+a){var u,c,h,p;switch(a){case 1:128>i&&(s=i);break;case 2:u=t[o+1],128===(192&u)&&(p=(31&i)<<6|63&u,p>127&&(s=p));break;case 3:u=t[o+1],c=t[o+2],128===(192&u)&&128===(192&c)&&(p=(15&i)<<12|(63&u)<<6|63&c,p>2047&&(55296>p||p>57343)&&(s=p));break;case 4:u=t[o+1],c=t[o+2],h=t[o+3],128===(192&u)&&128===(192&c)&&128===(192&h)&&(p=(15&i)<<18|(63&u)<<12|(63&c)<<6|63&h,p>65535&&1114112>p&&(s=p))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),o+=a}return I(r)}function I(t){var e=t.length;if(Q>=e)return String.fromCharCode.apply(String,t);for(var n="",r=0;e>r;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Q));return n}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)r+=String.fromCharCode(127&t[o]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;n>o;o++)r+=String.fromCharCode(t[o]);return r}function S(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var o="",i=e;n>i;i++)o+=H(t[i]);return o}function M(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,n,r,o,i,s){if(!t.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>i||s>n)throw new RangeError("value is out of bounds");if(r+o>e.length)throw new RangeError("index out of range")}function D(t,e,n,r){0>e&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);i>o;o++)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function B(t,e,n,r){0>e&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);i>o;o++)t[n+o]=e>>>8*(r?o:3-o)&255}function N(t,e,n,r,o,i){if(e>o||i>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function C(t,e,n,r,o){return o||N(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),V.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,o){return o||N(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),V.write(t,e,n,r,52,8),n+8}function q(t){if(t=U(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function U(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return 16>t?"0"+t.toString(16):t.toString(16)}function F(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],s=0;r>s;s++){if(n=t.charCodeAt(s),n>55295&&57344>n){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(56320>n){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=o-55296<<10|n-56320|65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,128>n){if((e-=1)<0)break;i.push(n)}else if(2048>n){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function Y(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function X(t){return K.toByteArray(q(t))}function J(t,e,n,r){for(var o=0;r>o&&!(o+n>=e.length||o>=t.length);o++)e[o+n]=t[o];return o}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var K=e(46),V=e(47),G=e(48);exports.Buffer=t,exports.SlowBuffer=m,exports.INSPECT_MAX_BYTES=50,t.poolSize=8192;var Z={};t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:r(),t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,o=n.length,i=0,s=Math.min(r,o);s>i&&e[i]===n[i];)++i;return i!==s&&(r=e[i],o=n[i]),o>r?-1:r>o?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!G(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new t(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;r++)n+=e[r].length;var o=new t(n),i=0;for(r=0;r<e.length;r++){var s=e[r];s.copy(o,i),i+=s.length}return o},t.byteLength=v,t.prototype.length=void 0,t.prototype.parent=void 0,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):y.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===t.compare(this,e)},t.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:t.compare(this,e)},t.prototype.indexOf=function(e,n){function r(t,e,n){for(var r=-1,o=0;n+o<t.length;o++)if(t[n+o]===e[-1===r?0:o-r]){if(-1===r&&(r=o),o-r+1===e.length)return n+r}else r=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,n);if(t.isBuffer(e))return r(this,e,n);if("number"==typeof e)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,n):r(this,[e],n);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var o=r;r=e,e=0|n,n=o}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"binary":return _(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>n?(n+=r,0>n&&(n=0)):n>r&&(n=r),e>n&&(n=e);var o;if(t.TYPED_ARRAY_SUPPORT)o=t._augment(this.subarray(e,n));else{var i=n-e;o=new t(i,void 0);for(var s=0;i>s;s++)o[s]=this[s+e]}return o.length&&(o.parent=this.parent||this),o},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},t.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||R(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},t.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),V.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),V.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),V.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),V.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||P(this,t,e,n,Math.pow(2,8*n),0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||P(this,t,e,n,Math.pow(2,8*n),0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):B(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):B(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);P(this,t,e,n,o-1,-o)}var i=0,s=1,a=0>t?1:0;for(this[e]=255&t;++i<n&&(s*=256);)this[e+i]=(t/s>>0)-a&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var o=Math.pow(2,8*n-1);P(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=(t/s>>0)-a&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):D(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):D(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):B(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||P(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):B(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return C(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return C(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,o){if(r||(r=0),o||0===o||(o=this.length),n>=e.length&&(n=e.length),n||(n=0),o>0&&r>o&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-n<o-r&&(o=e.length-n+r);var i,s=o-r;if(this===e&&n>r&&o>n)for(i=s-1;i>=0;i--)e[i+n]=this[i+r];else if(1e3>s||!t.TYPED_ARRAY_SUPPORT)for(i=0;s>i;i++)e[i+n]=this[i+r];else e._set(this.subarray(r,r+s),n);return s},t.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var o=F(t.toString()),i=o.length;for(r=e;n>r;r++)this[r]=o[r%i]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var e=new Uint8Array(this.length),n=0,r=e.length;r>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var W=t.prototype;t._augment=function(e){return e.constructor=t,e._isBuffer=!0,e._set=e.set,e.get=W.get,e.set=W.set,e.write=W.write,e.toString=W.toString,e.toLocaleString=W.toString,e.toJSON=W.toJSON,e.equals=W.equals,e.compare=W.compare,e.indexOf=W.indexOf,e.copy=W.copy,e.slice=W.slice,e.readUIntLE=W.readUIntLE,e.readUIntBE=W.readUIntBE,e.readUInt8=W.readUInt8,e.readUInt16LE=W.readUInt16LE,e.readUInt16BE=W.readUInt16BE,e.readUInt32LE=W.readUInt32LE,e.readUInt32BE=W.readUInt32BE,e.readIntLE=W.readIntLE,e.readIntBE=W.readIntBE,e.readInt8=W.readInt8,e.readInt16LE=W.readInt16LE,e.readInt16BE=W.readInt16BE,e.readInt32LE=W.readInt32LE,e.readInt32BE=W.readInt32BE,e.readFloatLE=W.readFloatLE,e.readFloatBE=W.readFloatBE,e.readDoubleLE=W.readDoubleLE,e.readDoubleBE=W.readDoubleBE,e.writeUInt8=W.writeUInt8,e.writeUIntLE=W.writeUIntLE,e.writeUIntBE=W.writeUIntBE,e.writeUInt16LE=W.writeUInt16LE,e.writeUInt16BE=W.writeUInt16BE,e.writeUInt32LE=W.writeUInt32LE,e.writeUInt32BE=W.writeUInt32BE,e.writeIntLE=W.writeIntLE,e.writeIntBE=W.writeIntBE,e.writeInt8=W.writeInt8,e.writeInt16LE=W.writeInt16LE,e.writeInt16BE=W.writeInt16BE,e.writeInt32LE=W.writeInt32LE,e.writeInt32BE=W.writeInt32BE,e.writeFloatLE=W.writeFloatLE,e.writeFloatBE=W.writeFloatBE,e.writeDoubleLE=W.writeDoubleLE,e.writeDoubleBE=W.writeDoubleBE,e.fill=W.fill,e.inspect=W.inspect,e.toArrayBuffer=W.toArrayBuffer,e};var tt=/[^+\/0-9A-Za-z-_]/g}).call(exports,e(45).Buffer,function(){return this}())},function(t,exports,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(exports){"use strict";function t(t){var e=t.charCodeAt(0);return e===i||e===h?62:e===s||e===p?63:a>e?-1:a+10>e?e-a+26+26:c+26>e?e-c:u+26>e?e-u+26:void 0}function e(e){function n(t){c[p++]=t}var r,i,s,a,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=e.length;u="="===e.charAt(h-2)?2:"="===e.charAt(h-1)?1:0,c=new o(3*e.length/4-u),s=u>0?e.length-4:e.length;var p=0;for(r=0,i=0;s>r;r+=4,i+=3)a=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,n(255&a)):1===u&&(a=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function r(t){function e(t){return n.charAt(t)}function r(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var o,i,s,a=t.length%3,u="";for(o=0,s=t.length-a;s>o;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],u+=r(i);switch(a){case 1:i=t[t.length-1],u+=e(i>>2),u+=e(i<<4&63),u+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],u+=e(i>>10),u+=e(i>>4&63),u+=e(i<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="+".charCodeAt(0),s="/".charCodeAt(0),a="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),h="-".charCodeAt(0),p="_".charCodeAt(0);exports.toByteArray=e,exports.fromByteArray=r}(exports)},function(t,exports){exports.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,h=-7,p=n?o-1:0,f=n?-1:1,l=t[e+p];for(p+=f,i=l&(1<<-h)-1,l>>=-h,h+=a;h>0;i=256*i+t[e+p],p+=f,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=r;h>0;s=256*s+t[e+p],p+=f,h-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:(l?-1:1)*(1/0);s+=Math.pow(2,r),i-=c}return(l?-1:1)*s*Math.pow(2,i-r)},exports.write=function(t,e,n,r,o,i){var s,a,u,c=8*i-o-1,h=(1<<c)-1,p=h>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,l=r?0:i-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+p>=1?f/u:f*Math.pow(2,1-p),e*u>=2&&(s++,u/=2),s+p>=h?(a=0,s=h):s+p>=1?(a=(e*u-1)*Math.pow(2,o),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;t[n+l]=255&a,l+=d,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[n+l]=255&s,l+=d,s/=256,c-=8);t[n+l-d]|=128*g}},function(t,exports){var e=Array.isArray,n=Object.prototype.toString;t.exports=e||function(t){return!!t&&"[object Array]"==n.call(t)}},function(t,exports,e){/*!
	 * Chai - getPathValue utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * @see https://github.com/logicalparadox/filtr
	 * MIT Licensed
	 */
var n=e(50);t.exports=function(t,e){var r=n(t,e);return r.value}},function(t,exports,e){/*!
	 * ## parsePath(path)
	 *
	 * Helper function used to parse string object
	 * paths. Use in conjunction with `_getPathValue`.
	 *
	 *      var parsed = parsePath('myobject.property.subprop');
	 *
	 * ### Paths:
	 *
	 * * Can be as near infinitely deep and nested
	 * * Arrays are also valid using the formal `myobject.document[3].property`.
	 * * Literal dots and brackets (not delimiter) must be backslash-escaped.
	 *
	 * @param {String} path
	 * @returns {Object} parsed
	 * @api private
	 */
function n(t){var e=t.replace(/([^\\])\[/g,"$1.["),n=e.match(/(\\\.|[^.]+?)+/g);return n.map(function(t){var e=/^\[(\d+)\]$/,n=e.exec(t);return n?{i:parseFloat(n[1])}:{p:t.replace(/\\([.\[\]])/g,"$1")}})}/*!
	 * ## _getPathValue(parsed, obj)
	 *
	 * Helper companion function for `.parsePath` that returns
	 * the value located at the parsed address.
	 *
	 *      var value = getPathValue(parsed, obj);
	 *
	 * @param {Object} parsed definition from `parsePath`.
	 * @param {Object} object to search against
	 * @param {Number} object to search against
	 * @returns {Object|Undefined} value
	 * @api private
	 */
function r(t,e,n){var r,o=e;n=void 0===n?t.length:n;for(var i=0,s=n;s>i;i++){var a=t[i];o?("undefined"!=typeof a.p?o=o[a.p]:"undefined"!=typeof a.i&&(o=o[a.i]),i==s-1&&(r=o)):r=void 0}return r}/*!
	 * Chai - getPathInfo utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var o=e(51);t.exports=function(t,e){var i=n(t),s=i[i.length-1],a={parent:i.length>1?r(i,e,i.length-1):e,name:s.p||s.i,value:r(i,e)};return a.exists=o(a.name,a.parent),a}},function(t,exports,e){/*!
	 * Chai - hasProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var n=e(29),r={number:Number,string:String};t.exports=function(t,e){var o=n(e);return"null"===o||"undefined"===o?!1:(r[o]&&"object"!=typeof e&&(e=new r[o](e)),t in e)}},function(t,exports,e){/*!
	 * Chai - addProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var n=e(39),r=e(28);t.exports=function(t,e,o){Object.defineProperty(t,e,{get:function i(){var t=r(this,"ssfi");t&&n.includeStack===!1&&r(this,"ssfi",i);var e=o.call(this);return void 0===e?this:e},configurable:!0})}},function(t,exports,e){/*!
	 * Chai - addMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var n=e(39),r=e(28);t.exports=function(t,e,o){t[e]=function(){var i=r(this,"ssfi");i&&n.includeStack===!1&&r(this,"ssfi",t[e]);var s=o.apply(this,arguments);return void 0===s?this:s}}},function(t,exports){/*!
	 * Chai - overwriteProperty utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e),o=function(){};r&&"function"==typeof r.get&&(o=r.get),Object.defineProperty(t,e,{get:function(){var t=n(o).call(this);return void 0===t?this:t},configurable:!0})}},function(t,exports){/*!
	 * Chai - overwriteMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n){var r=t[e],o=function(){return this};r&&"function"==typeof r&&(o=r),t[e]=function(){var t=n(o).apply(this,arguments);return void 0===t?this:t}}},function(t,exports,e){/*!
	 * Chai - addChainingMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
/*!
	 * Module dependencies
	 */
var n=e(40),r=e(28),o=e(39),i="__proto__"in Object,s=/^(?:length|name|arguments|caller)$/,a=Function.prototype.call,u=Function.prototype.apply;t.exports=function(t,e,c,h){"function"!=typeof h&&(h=function(){});var p={method:c,chainingBehavior:h};t.__methods||(t.__methods={}),t.__methods[e]=p,Object.defineProperty(t,e,{get:function(){p.chainingBehavior.call(this);var e=function f(){var t=r(this,"ssfi");t&&o.includeStack===!1&&r(this,"ssfi",f);var e=p.method.apply(this,arguments);return void 0===e?this:e};if(i){var c=e.__proto__=Object.create(this);c.call=a,c.apply=u}else{var h=Object.getOwnPropertyNames(t);h.forEach(function(n){if(!s.test(n)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r)}})}return n(this,e),e},configurable:!0})}},function(t,exports){/*!
	 * Chai - overwriteChainableMethod utility
	 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e,n,r){var o=t.__methods[e],i=o.chainingBehavior;o.chainingBehavior=function(){var t=r(i).call(this);return void 0===t?this:t};var s=o.method;o.method=function(){var t=n(s).apply(this,arguments);return void 0===t?this:t}}},function(t,exports,e){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
var n=e(39);t.exports=function(t,e){/*!
	   * Assertion Constructor
	   *
	   * Creates object for chaining.
	   *
	   * @api private
	   */
function r(t,e,n){i(this,"ssfi",n||arguments.callee),i(this,"object",t),i(this,"message",e)}/*!
	   * Module dependencies.
	   */
var o=t.AssertionError,i=e.flag;/*!
	   * Module export.
	   */
t.Assertion=r,Object.defineProperty(r,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),n.includeStack},set:function(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),n.includeStack=t}}),Object.defineProperty(r,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),n.showDiff},set:function(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),n.showDiff=t}}),r.addProperty=function(t,n){e.addProperty(this.prototype,t,n)},r.addMethod=function(t,n){e.addMethod(this.prototype,t,n)},r.addChainableMethod=function(t,n,r){e.addChainableMethod(this.prototype,t,n,r)},r.overwriteProperty=function(t,n){e.overwriteProperty(this.prototype,t,n)},r.overwriteMethod=function(t,n){e.overwriteMethod(this.prototype,t,n)},r.overwriteChainableMethod=function(t,n,r){e.overwriteChainableMethod(this.prototype,t,n,r)},r.prototype.assert=function(t,r,s,a,u,c){var h=e.test(this,arguments);if(!0!==c&&(c=!1),!0!==n.showDiff&&(c=!1),!h){var r=e.getMessage(this,arguments),p=e.getActual(this,arguments);throw new o(r,{actual:p,expected:a,showDiff:c},n.includeStack?this.assert:i(this,"ssfi"))}},/*!
	   * ### ._obj
	   *
	   * Quick reference to stored `actual` value for plugin developers.
	   *
	   * @api private
	   */
Object.defineProperty(r.prototype,"_obj",{get:function(){return i(this,"object")},set:function(t){i(this,"object",t)}})}},function(t,exports){/*!
	 * chai
	 * http://chaijs.com
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){function n(t,n){n&&T(this,"message",n),t=t.toLowerCase();var r=T(this,"object"),o=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(r),"expected #{this} to be "+o+t,"expected #{this} not to be "+o+t)}function r(){T(this,"contains",!0)}function o(t,n){e.expectTypes(this,["array","object","string"]),n&&T(this,"message",n);var r=T(this,"object"),o=!1;if("array"===e.type(r)&&"object"===e.type(t)){for(var i in r)if(e.eql(r[i],t)){o=!0;break}}else if("object"===e.type(t)){if(!T(this,"negate")){for(var s in t)new A(r).property(s,t[s]);return}var a={};for(var s in t)a[s]=r[s];o=e.eql(a,t)}else o=void 0!=r&&~r.indexOf(t);this.assert(o,"expected #{this} to include "+e.inspect(t),"expected #{this} to not include "+e.inspect(t))}function i(){var t=T(this,"object"),e=Object.prototype.toString.call(t);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function s(t,e){e&&T(this,"message",e);var n=T(this,"object");return T(this,"deep")?this.eql(t):void this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function a(t,n){n&&T(this,"message",n),this.assert(e.eql(t,T(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function u(t,e){e&&T(this,"message",e);var n=T(this,"object");if(T(this,"doLength")){new A(n,e).to.have.property("length");var r=n.length;this.assert(r>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,r)}else this.assert(n>t,"expected #{this} to be above "+t,"expected #{this} to be at most "+t)}function c(t,e){e&&T(this,"message",e);var n=T(this,"object");if(T(this,"doLength")){new A(n,e).to.have.property("length");var r=n.length;this.assert(r>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,r)}else this.assert(n>=t,"expected #{this} to be at least "+t,"expected #{this} to be below "+t)}function h(t,e){e&&T(this,"message",e);var n=T(this,"object");if(T(this,"doLength")){new A(n,e).to.have.property("length");var r=n.length;this.assert(t>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,r)}else this.assert(t>n,"expected #{this} to be below "+t,"expected #{this} to be at least "+t)}function p(t,e){e&&T(this,"message",e);var n=T(this,"object");if(T(this,"doLength")){new A(n,e).to.have.property("length");var r=n.length;this.assert(t>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,r)}else this.assert(t>=n,"expected #{this} to be at most "+t,"expected #{this} to be above "+t)}function f(t,n){n&&T(this,"message",n);var r=e.getName(t);this.assert(T(this,"object")instanceof t,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function l(t,n){n&&T(this,"message",n);var r=T(this,"object");this.assert(r.hasOwnProperty(t),"expected #{this} to have own property "+e.inspect(t),"expected #{this} to not have own property "+e.inspect(t))}function d(t,n,r){"string"==typeof n&&(r=n,n=null),r&&T(this,"message",r);var o=T(this,"object"),i=Object.getOwnPropertyDescriptor(Object(o),t);i&&n?this.assert(e.eql(n,i),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to match "+e.inspect(n)+", got "+e.inspect(i),"expected the own property descriptor for "+e.inspect(t)+" on #{this} to not match "+e.inspect(n),n,i,!0):this.assert(i,"expected #{this} to have an own property descriptor for "+e.inspect(t),"expected #{this} to not have an own property descriptor for "+e.inspect(t)),T(this,"object",i)}function g(){T(this,"doLength",!0)}function m(t,e){e&&T(this,"message",e);var n=T(this,"object");new A(n,e).to.have.property("length");var r=n.length;this.assert(r==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,r)}function v(t,e){e&&T(this,"message",e);var n=T(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}function y(t){var n,r=T(this,"object"),o=!0,i="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(e.type(t)){case"array":if(arguments.length>1)throw new Error(i);break;case"object":if(arguments.length>1)throw new Error(i);t=Object.keys(t);break;default:t=Array.prototype.slice.call(arguments)}if(!t.length)throw new Error("keys required");var s=Object.keys(r),a=t,u=t.length,c=T(this,"any"),h=T(this,"all");if(c||h||(h=!0),c){var p=a.filter(function(t){return~s.indexOf(t)});o=p.length>0}if(h&&(o=t.every(function(t){return~s.indexOf(t)}),T(this,"negate")||T(this,"contains")||(o=o&&t.length==s.length)),u>1){t=t.map(function(t){return e.inspect(t)});var f=t.pop();h&&(n=t.join(", ")+", and "+f),c&&(n=t.join(", ")+", or "+f)}else n=e.inspect(t[0]);n=(u>1?"keys ":"key ")+n,n=(T(this,"contains")?"contain ":"have ")+n,this.assert(o,"expected #{this} to "+n,"expected #{this} to not "+n,a.slice(0).sort(),s.sort(),!0)}function w(t,n,r){r&&T(this,"message",r);var o=T(this,"object");new A(o,r).is.a("function");var i=!1,s=null,a=null,u=null;0===arguments.length?(n=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)?(n=t,t=null):t&&t instanceof Error?(s=t,t=null,n=null):"function"==typeof t?(a=t.prototype.name,(!a||"Error"===a&&t!==Error)&&(a=t.name||(new t).name)):t=null;try{o()}catch(c){if(s)return this.assert(c===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,c instanceof Error?c.toString():c),T(this,"object",c),this;if(t&&(this.assert(c instanceof t,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,c instanceof Error?c.toString():c),!n))return T(this,"object",c),this;var h="error"===e.type(c)&&"message"in c?c.message:""+c;if(null!=h&&n&&n instanceof RegExp)return this.assert(n.exec(h),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,h),T(this,"object",c),this;if(null!=h&&n&&"string"==typeof n)return this.assert(~h.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,h),T(this,"object",c),this;i=!0,u=c}var p="",f=null!==a?a:s?"#{exp}":"an error";i&&(p=" but #{act} was thrown"),this.assert(i===!0,"expected #{this} to throw "+f+p,"expected #{this} to not throw "+f+p,s instanceof Error?s.toString():s,u instanceof Error?u.toString():u),T(this,"object",u)}function b(t,n){n&&T(this,"message",n);var r=T(this,"object"),o=T(this,"itself"),i="function"!==e.type(r)||o?r[t]:r.prototype[t];this.assert("function"==typeof i,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}function x(t,n){n&&T(this,"message",n);var r=T(this,"object"),o=t(r);this.assert(o,"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),this.negate?!1:!0,o)}function _(t,n,r){r&&T(this,"message",r);var o=T(this,"object");if(new A(o,r).is.a("number"),"number"!==e.type(t)||"number"!==e.type(n))throw new Error("the arguments to closeTo or approximately must be numbers");this.assert(Math.abs(o-t)<=n,"expected #{this} to be close to "+t+" +/- "+n,"expected #{this} not to be close to "+t+" +/- "+n)}function E(t,e,n){return t.every(function(t){return n?e.some(function(e){return n(t,e)}):-1!==e.indexOf(t)})}function O(t,e){e&&T(this,"message",e);var n=T(this,"object");new A(t).to.be.an("array"),this.assert(t.indexOf(n)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",t,n)}function k(t,e,n){n&&T(this,"message",n);var r=T(this,"object");new A(t,n).to.have.property(e),new A(r).is.a("function");var o=t[e];r(),this.assert(o!==t[e],"expected ."+e+" to change","expected ."+e+" to not change")}function j(t,e,n){n&&T(this,"message",n);var r=T(this,"object");new A(t,n).to.have.property(e),new A(r).is.a("function");var o=t[e];r(),this.assert(t[e]-o>0,"expected ."+e+" to increase","expected ."+e+" to not increase")}function I(t,e,n){n&&T(this,"message",n);var r=T(this,"object");new A(t,n).to.have.property(e),new A(r).is.a("function");var o=t[e];r(),this.assert(t[e]-o<0,"expected ."+e+" to decrease","expected ."+e+" to not decrease")}var A=t.Assertion,T=(Object.prototype.toString,e.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(t){A.addProperty(t,function(){return this})}),A.addProperty("not",function(){T(this,"negate",!0)}),A.addProperty("deep",function(){T(this,"deep",!0)}),A.addProperty("any",function(){T(this,"any",!0),T(this,"all",!1)}),A.addProperty("all",function(){T(this,"all",!0),T(this,"any",!1)}),A.addChainableMethod("an",n),A.addChainableMethod("a",n),A.addChainableMethod("include",o,r),A.addChainableMethod("contain",o,r),A.addChainableMethod("contains",o,r),A.addChainableMethod("includes",o,r),A.addProperty("ok",function(){this.assert(T(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),A.addProperty("true",function(){this.assert(!0===T(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),A.addProperty("false",function(){this.assert(!1===T(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),A.addProperty("null",function(){this.assert(null===T(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),A.addProperty("undefined",function(){this.assert(void 0===T(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),A.addProperty("NaN",function(){this.assert(isNaN(T(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")}),A.addProperty("exist",function(){this.assert(null!=T(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),A.addProperty("empty",function(){var t=T(this,"object"),e=t;Array.isArray(t)||"string"==typeof object?e=t.length:"object"==typeof t&&(e=Object.keys(t).length),this.assert(!e,"expected #{this} to be empty","expected #{this} not to be empty")}),A.addProperty("arguments",i),A.addProperty("Arguments",i),A.addMethod("equal",s),A.addMethod("equals",s),A.addMethod("eq",s),A.addMethod("eql",a),A.addMethod("eqls",a),A.addMethod("above",u),A.addMethod("gt",u),A.addMethod("greaterThan",u),A.addMethod("least",c),A.addMethod("gte",c),A.addMethod("below",h),A.addMethod("lt",h),A.addMethod("lessThan",h),A.addMethod("most",p),A.addMethod("lte",p),A.addMethod("within",function(t,e,n){n&&T(this,"message",n);var r=T(this,"object"),o=t+".."+e;if(T(this,"doLength")){new A(r,n).to.have.property("length");var i=r.length;this.assert(i>=t&&e>=i,"expected #{this} to have a length within "+o,"expected #{this} to not have a length within "+o)}else this.assert(r>=t&&e>=r,"expected #{this} to be within "+o,"expected #{this} to not be within "+o)}),A.addMethod("instanceof",f),A.addMethod("instanceOf",f),A.addMethod("property",function(t,n,r){r&&T(this,"message",r);var o=!!T(this,"deep"),i=o?"deep property ":"property ",s=T(this,"negate"),a=T(this,"object"),u=o?e.getPathInfo(t,a):null,c=o?u.exists:e.hasProperty(t,a),h=o?u.value:a[t];if(s&&arguments.length>1){if(void 0===h)throw r=null!=r?r+": ":"",new Error(r+e.inspect(a)+" has no "+i+e.inspect(t))}else this.assert(c,"expected #{this} to have a "+i+e.inspect(t),"expected #{this} to not have "+i+e.inspect(t));arguments.length>1&&this.assert(n===h,"expected #{this} to have a "+i+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have a "+i+e.inspect(t)+" of #{act}",n,h),T(this,"object",h)}),A.addMethod("ownProperty",l),A.addMethod("haveOwnProperty",l),A.addMethod("ownPropertyDescriptor",d),A.addMethod("haveOwnPropertyDescriptor",d),A.addChainableMethod("length",m,g),A.addMethod("lengthOf",m),A.addMethod("match",v),A.addMethod("matches",v),A.addMethod("string",function(t,n){n&&T(this,"message",n);var r=T(this,"object");new A(r,n).is.a("string"),this.assert(~r.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),A.addMethod("keys",y),A.addMethod("key",y),A.addMethod("throw",w),A.addMethod("throws",w),A.addMethod("Throw",w),A.addMethod("respondTo",b),A.addMethod("respondsTo",b),A.addProperty("itself",function(){T(this,"itself",!0)}),A.addMethod("satisfy",x),A.addMethod("satisfies",x),A.addMethod("closeTo",_),A.addMethod("approximately",_),A.addMethod("members",function(t,n){n&&T(this,"message",n);var r=T(this,"object");new A(r).to.be.an("array"),new A(t).to.be.an("array");var o=T(this,"deep")?e.eql:void 0;return T(this,"contains")?this.assert(E(t,r,o),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",r,t):void this.assert(E(r,t,o)&&E(t,r,o),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",r,t)}),A.addMethod("oneOf",O),A.addChainableMethod("change",k),A.addChainableMethod("changes",k),A.addChainableMethod("increase",j),A.addChainableMethod("increases",j),A.addChainableMethod("decrease",I),A.addChainableMethod("decreases",I),A.addProperty("extensible",function(){var t,e=T(this,"object");try{t=Object.isExtensible(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!1}this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")}),A.addProperty("sealed",function(){var t,e=T(this,"object");try{t=Object.isSealed(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!0}this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")}),A.addProperty("frozen",function(){var t,e=T(this,"object");try{t=Object.isFrozen(e)}catch(n){if(!(n instanceof TypeError))throw n;t=!0}this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")})}},function(t,exports){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){t.expect=function(e,n){return new t.Assertion(e,n)},t.expect.fail=function(e,n,r,o){throw r=r||"expect.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:o},t.expect.fail)}}},function(t,exports){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){function n(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean?new r(this.valueOf(),null,e):new r(this,null,e)}function n(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:n,get:e,configurable:!0});var o={};return o.fail=function(e,n,r,i){throw r=r||"should.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:i},o.fail)},o.equal=function(t,e,n){new r(t,n).to.equal(e)},o.Throw=function(t,e,n,o){new r(t,o).to.Throw(e,n)},o.exist=function(t,e){new r(t,e).to.exist},o.not={},o.not.equal=function(t,e,n){new r(t,n).to.not.equal(e)},o.not.Throw=function(t,e,n,o){new r(t,o).to.not.Throw(e,n)},o.not.exist=function(t,e){new r(t,e).to.not.exist},o["throw"]=o.Throw,o.not["throw"]=o.not.Throw,o}var r=t.Assertion;t.should=n,t.Should=n}},function(t,exports){/*!
	 * chai
	 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
	 * MIT Licensed
	 */
t.exports=function(t,e){/*!
	   * Chai dependencies.
	   */
var n=t.Assertion,r=e.flag,o=t.assert=function(e,r){var o=new n(null,null,t.assert);o.assert(e,r,"[ negation message unavailable ]")};o.fail=function(e,n,r,i){throw r=r||"assert.fail()",new t.AssertionError(r,{actual:e,expected:n,operator:i},o.fail)},o.isOk=function(t,e){new n(t,e).is.ok},o.isNotOk=function(t,e){new n(t,e).is.not.ok},o.equal=function(t,e,i){var s=new n(t,i,o.equal);s.assert(e==r(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t)},o.notEqual=function(t,e,i){var s=new n(t,i,o.notEqual);s.assert(e!=r(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t)},o.strictEqual=function(t,e,r){new n(t,r).to.equal(e)},o.notStrictEqual=function(t,e,r){new n(t,r).to.not.equal(e)},o.deepEqual=function(t,e,r){new n(t,r).to.eql(e)},o.notDeepEqual=function(t,e,r){new n(t,r).to.not.eql(e)},o.isAbove=function(t,e,r){new n(t,r).to.be.above(e)},o.isAtLeast=function(t,e,r){new n(t,r).to.be.least(e)},o.isBelow=function(t,e,r){new n(t,r).to.be.below(e)},o.isAtMost=function(t,e,r){new n(t,r).to.be.most(e)},o.isTrue=function(t,e){new n(t,e).is["true"]},o.isNotTrue=function(t,e){new n(t,e).to.not.equal(!0)},o.isFalse=function(t,e){new n(t,e).is["false"]},o.isNotFalse=function(t,e){new n(t,e).to.not.equal(!1)},o.isNull=function(t,e){new n(t,e).to.equal(null)},o.isNotNull=function(t,e){new n(t,e).to.not.equal(null)},o.isNaN=function(t,e){new n(t,e).to.be.NaN},o.isNotNaN=function(t,e){new n(t,e).not.to.be.NaN},o.isUndefined=function(t,e){new n(t,e).to.equal(void 0)},o.isDefined=function(t,e){new n(t,e).to.not.equal(void 0)},o.isFunction=function(t,e){new n(t,e).to.be.a("function")},o.isNotFunction=function(t,e){new n(t,e).to.not.be.a("function")},o.isObject=function(t,e){new n(t,e).to.be.a("object")},o.isNotObject=function(t,e){new n(t,e).to.not.be.a("object")},o.isArray=function(t,e){new n(t,e).to.be.an("array")},o.isNotArray=function(t,e){new n(t,e).to.not.be.an("array")},o.isString=function(t,e){new n(t,e).to.be.a("string")},o.isNotString=function(t,e){new n(t,e).to.not.be.a("string")},o.isNumber=function(t,e){new n(t,e).to.be.a("number")},o.isNotNumber=function(t,e){new n(t,e).to.not.be.a("number")},o.isBoolean=function(t,e){new n(t,e).to.be.a("boolean")},o.isNotBoolean=function(t,e){new n(t,e).to.not.be.a("boolean")},o.typeOf=function(t,e,r){new n(t,r).to.be.a(e)},o.notTypeOf=function(t,e,r){new n(t,r).to.not.be.a(e)},o.instanceOf=function(t,e,r){new n(t,r).to.be.instanceOf(e)},o.notInstanceOf=function(t,e,r){new n(t,r).to.not.be.instanceOf(e)},o.include=function(t,e,r){new n(t,r,o.include).include(e)},o.notInclude=function(t,e,r){new n(t,r,o.notInclude).not.include(e)},o.match=function(t,e,r){new n(t,r).to.match(e)},o.notMatch=function(t,e,r){new n(t,r).to.not.match(e)},o.property=function(t,e,r){new n(t,r).to.have.property(e)},o.notProperty=function(t,e,r){new n(t,r).to.not.have.property(e)},o.deepProperty=function(t,e,r){new n(t,r).to.have.deep.property(e)},o.notDeepProperty=function(t,e,r){new n(t,r).to.not.have.deep.property(e)},o.propertyVal=function(t,e,r,o){new n(t,o).to.have.property(e,r)},o.propertyNotVal=function(t,e,r,o){new n(t,o).to.not.have.property(e,r)},o.deepPropertyVal=function(t,e,r,o){new n(t,o).to.have.deep.property(e,r)},o.deepPropertyNotVal=function(t,e,r,o){new n(t,o).to.not.have.deep.property(e,r)},o.lengthOf=function(t,e,r){new n(t,r).to.have.length(e)},o["throws"]=function(t,e,o,i){("string"==typeof e||e instanceof RegExp)&&(o=e,e=null);var s=new n(t,i).to["throw"](e,o);return r(s,"object")},o.doesNotThrow=function(t,e,r){"string"==typeof e&&(r=e,e=null),new n(t,r).to.not.Throw(e)},o.operator=function(t,o,i,s){var a;switch(o){case"==":a=t==i;break;case"===":a=t===i;break;case">":a=t>i;break;case">=":a=t>=i;break;case"<":a=i>t;break;case"<=":a=i>=t;break;case"!=":a=t!=i;break;case"!==":a=t!==i;break;default:throw new Error('Invalid operator "'+o+'"')}var u=new n(a,s);u.assert(!0===r(u,"object"),"expected "+e.inspect(t)+" to be "+o+" "+e.inspect(i),"expected "+e.inspect(t)+" to not be "+o+" "+e.inspect(i))},o.closeTo=function(t,e,r,o){new n(t,o).to.be.closeTo(e,r)},o.approximately=function(t,e,r,o){new n(t,o).to.be.approximately(e,r)},o.sameMembers=function(t,e,r){new n(t,r).to.have.same.members(e)},o.sameDeepMembers=function(t,e,r){new n(t,r).to.have.same.deep.members(e)},o.includeMembers=function(t,e,r){new n(t,r).to.include.members(e)},o.oneOf=function(t,e,r){new n(t,r).to.be.oneOf(e)},o.changes=function(t,e,r){new n(t).to.change(e,r)},o.doesNotChange=function(t,e,r){new n(t).to.not.change(e,r)},o.increases=function(t,e,r){new n(t).to.increase(e,r)},o.doesNotIncrease=function(t,e,r){new n(t).to.not.increase(e,r)},o.decreases=function(t,e,r){new n(t).to.decrease(e,r)},o.doesNotDecrease=function(t,e,r){new n(t).to.not.decrease(e,r)},/*!
	   * ### .ifError(object)
	   *
	   * Asserts if value is not a false value, and throws if it is a true value.
	   * This is added to allow for chai to be a drop-in replacement for Node's
	   * assert class.
	   *
	   *     var err = new Error('I am a custom error');
	   *     assert.ifError(err); // Rethrows err!
	   *
	   * @name ifError
	   * @param {Object} object
	   * @api public
	   */
o.ifError=function(t){if(t)throw t},o.isExtensible=function(t,e){new n(t,e).to.be.extensible},o.isNotExtensible=function(t,e){new n(t,e).to.not.be.extensible},o.isSealed=function(t,e){new n(t,e).to.be.sealed},o.isNotSealed=function(t,e){new n(t,e).to.not.be.sealed},o.isFrozen=function(t,e){new n(t,e).to.be.frozen},o.isNotFrozen=function(t,e){new n(t,e).to.not.be.frozen},/*!
	   * Aliases.
	   */
function i(t,e){return o[e]=o[t],i}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")}},function(t,exports,e){var n=e(11),r=e(23).expect;describe("microdata",function(){it("should extract microdata from DOM element with a single metadata root",function(){var t=n.extract("offer1");r(t).to.deep.equal({type:"http://schema.org/Offer",properties:{name:"Blend-O-Matic",price:"$19.95",reviews:{type:"http://schema.org/AggregateRating",properties:{ratingValue:"4",bestRating:"5",ratingCount:"25"}}}})}),it("should extract microdata from DOM element with multiple metadata roots",function(){var t=n.extract("multiple_meta_items");r(t).to.deep.equal({__items:[{type:"http://schema.org/Offer",properties:{name:"Blend-O-Matic1",price:"$19.95",reviews:{type:"http://schema.org/AggregateRating",properties:{ratingValue:"4",bestRating:"5",ratingCount:"25"}}}},{type:"http://schema.org/Offer",properties:{name:"Blend-O-Matic2",price:"$19.95",reviews:{type:"http://schema.org/AggregateRating",properties:{ratingValue:"4",bestRating:"5",ratingCount:"25"}}}}]})}),it("should extract microdata from document HEAD",function(){var t=n.extractFromHead();r(t).to.deep.equal({"og:description":"Velkommen til Den Norske Opera & Ballett. Her finner du informasjon om våre forestillinger, opera, ballett, konserter og andre kulturtilbud.","og:url":"http://operaen.no/","og:title":"Opera, Ballett og Konserter | Operaen  \\ Den Norske Opera & Ballett","og:site_name":"Operaen.no","og:type":"website",keywords:"Den Norske Opera & Ballett, operaen, ballett, nasjonalballetten, nasjonaloperaen, operahuset, konserter, operakoret, operaorkestret, Operaen, forestillinger, operabutikken, opera, Oslo, oslo opera, operaballetten, konserter"})}),describe("meta-data mapper",function(){it("should be able to replace each extracted piece of metadata",function(){n.setMapper(function(t){return{c:"d"}});var t=n.extractFromHead();r(t).to.deep.equal({c:"d"})}),it("should be able to convert metadata",function(){n.setMapper(function(t){return{c:"d",d:t["og:description"]}});var t=n.extractFromHead();r(t).to.deep.equal({c:"d",d:"Velkommen til Den Norske Opera & Ballett. Her finner du informasjon om våre forestillinger, opera, ballett, konserter og andre kulturtilbud."})}),it('should be "transparent" mappig using the noMapper',function(){r(n.noMapper("dfd")).to.equal("dfd")}),it("should provide metadata and DOM tree root element it was extracted from",function(t){n.setMapper(function(e,n){r(n.attr("id")).to.equal("offer1"),r(n.attr("data-event-id")).to.equal("123"),t()}),n.extract("offer1")}),it("should provide only metadata and no DOM tree root element when extracting from HEAD",function(t){n.setMapper(function(e,n){r(n).to.be.undefined,t()}),n.extractFromHead()}),it("should handle mapper failure",function(){n.setMapper(function(t,e){dasdf.asdfasdf=5});var t=n.extractFromHead();r(t).to.deep.equal({"og:description":"Velkommen til Den Norske Opera & Ballett. Her finner du informasjon om våre forestillinger, opera, ballett, konserter og andre kulturtilbud.","og:url":"http://operaen.no/","og:title":"Opera, Ballett og Konserter | Operaen  \\ Den Norske Opera & Ballett","og:site_name":"Operaen.no","og:type":"website",keywords:"Den Norske Opera & Ballett, operaen, ballett, nasjonalballetten, nasjonaloperaen, operahuset, konserter, operakoret, operaorkestret, Operaen, forestillinger, operabutikken, opera, Oslo, oslo opera, operaballetten, konserter"})})})})},function(t,exports,e){var n=e(7);beforeEach("cleanup user and session info",function(){for(var t=n.keys(),e=0;e<t.length;e++){var r=t[e];n.removeItem(r)}t=n.keys()})},function(t,exports,e){var n=e(23).expect,r=e(14),o=e(15);describe("script version",function(){it("should be same as major.minor.build-feature1.feature2 format",function(){o.defineExperiment("experiment1",100),o.defineExperiment("experiment2",100),n(r.version()).to.equal([r.major,r.minor,r.build].join(".")+"-experiment1.experiment2")}),it("should be same as major.minor.build",function(){o.clearExperiments(),n(r.version()).to.equal([r.major,r.minor,r.build].join("."))})})}]);
//# sourceMappingURL=tests.js.map