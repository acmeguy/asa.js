{"version":3,"sources":["webpack:///webpack/bootstrap fb3aea52d8c314217a49","webpack:///./src/index.js","webpack:///./src/boot.js","webpack:///./src/browser.js","webpack:///./src/polyfills.js","webpack:///./src/partner.js","webpack:///./src/parseuri.js","webpack:///./src/auto_track.js","webpack:///./src/session.js","webpack:///./src/debug.js","webpack:///./src/user.js","webpack:///./~/cookies-js/dist/cookies.js","webpack:///./src/domain_hash.js","webpack:///./src/sha1.js","webpack:///./src/randomness.js","webpack:///./src/cookies.js","webpack:///./src/utils.js","webpack:///./src/server.js","webpack:///./~/superagent/lib/client.js","webpack:///./~/superagent/~/component-emitter/index.js","webpack:///./~/superagent/~/reduce-component/index.js","webpack:///./~/superagent/lib/request-base.js","webpack:///./~/superagent/lib/is-object.js","webpack:///./~/superagent/lib/request.js","webpack:///./src/ajax.js","webpack:///./src/features.js","webpack:///./src/formatting.js","webpack:///./src/version.js","webpack:///./src/inbox.js","webpack:///./src/microdata.js","webpack:///./src/DOM.js","webpack:///./src/event.js","webpack:///./src/campaign.js","webpack:///./src/referrer.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA,EAAC;;;;;;;ACFD;AACA;AACA;AACA;;AAEA,oBAAmB,yBAAyB;AAC5C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,kBAAiB,0BAA0B;AAC3C;AACA;;AAEA;AACA,GAAE;AACF;AACA,gCAA+B,yBAAyB;AACxD;AACA;;;;;;;AC3CA;AACA;AACA;AACA,E;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACvBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;;AAEF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/CA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAU;AACV;;AAEA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;;AAEA,2B;;;;;;ACjCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kE;AACA,UAAS;AACT;AACA;AACA,MAAK;;AAEL;AACA,2FAA0F,uIAAuI;AACjO,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,G;;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,G;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,0CAAyC,8BAA8B;AACvE,sB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA,G;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,6CAA4C;;AAE5C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA6C;AAC7C,gDAA+C;AAC/C,iDAAgD;AAChD,gDAA+C;;AAE/C;AACA;;AAEA;AACA;AACA,wEAAuE;;AAEvE,4BAA2B,yBAAyB;AACpD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAA4B,sBAAsB,EAAE;AACpD;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC,iD;;;;;;AC3KD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,G;;AAEA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,sCAAsC;AACtD,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA,0BAAyB,8CAA8C;AACvE,0BAAyB,8CAA8C;AACvE,0BAAyB,iDAAiD;AAC1E;AACA,IAAG,qEAAqE;AACxE;AACA,IAAG,qEAAqE;AACxE;AACA,IAAG,wEAAwE;;AAE3E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO,UAAU,WAAW,WAAW;AACvC;AACA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO,SAAS,WAAW,WAAW;AACtC;AACA;AACA;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAY,qBAAqB;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,qBAAqB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAgC,QAAQ;AACxC;;AAEA;AACA;AACA;AACA,yBAAwB,iBAAiB;AACzC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2B;;;;;;AC3UA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,aAAa;AAC7B,8EAA6E,mFAAmF;AAChK,IAAG;AACH;AACA,4EAA2E,cAAc;AACzF;AACA;AACA;AACA;AACA,4CAA2C,4CAA4C;AACvF;AACA;AACA,wBAAuB;AACvB;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA,6GAA4G,uCAAuC,qCAAqC;AACxL;AACA,IAAG;AACH;AACA,+BAA8B,cAAc;AAC5C,qDAAoD,uDAAuD,uCAAuC;AAClJ;AACA,IAAG;AACH;AACA,iBAAgB,cAAc;AAC9B,+BAA8B;AAC9B,IAAG;AACH;AACA,oDAAmD,YAAY,oBAAoB,sCAAsC,KAAK;AAC9H,4CAA2C,aAAa,UAAU,+CAA+C;AACjH;AACA;AACA;;AAEA,6B;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,wCAAuC,8DAA8D;AACrG;AACA,cAAa;AACb,uCAAsC,kDAAkD;AACxF;AACA;AACA;;AAEA,E;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0DAAyD;AACzD;AACA;;AAEA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,UAAS;;AAET,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA,6BAA4B,wBAAwB;AACpD;;AAEA;AACA;AACA;AACA;AACA;AACA,6DAA4D;AAC5D,iBAAgB,gDAAgD,GAAG,wBAAwB;AAC3F;;AAEA;AACA;AACA,wBAAuB,eAAe;AACtC;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA,G;;;;;;ACnIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA,EAAC,wCAAwC;AACzC;AACA,EAAC,OAAO;AACR;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA,eAAc;;AAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,UAAS,+CAA+C,EAAE;AAC1D,UAAS,gDAAgD,EAAE;AAC3D,UAAS,gDAAgD,EAAE;AAC3D,UAAS,4CAA4C,EAAE;AACvD;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA,kBAAiB,iBAAiB;AAClC,kBAAiB,sCAAsC;;AAEvD;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAY,OAAO;AACnB,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,sCAAqC,SAAS;AAC9C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAc;;AAEd,sCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA,wBAAuB;AACvB;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA,+BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA,IAAG,IAAI;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C,yCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA,kBAAiB,aAAa;AAC9B,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA,kBAAiB,aAAa,iBAAiB;AAC/C;AACA;AACA;AACA;AACA,2BAA0B,aAAa;AACvC,+BAA8B;AAC9B;AACA;AACA;AACA;AACA,2BAA0B,aAAa,iBAAiB;AACxD;AACA,YAAW,eAAe;AAC1B,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB,qBAAoB;AACpB;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,gBAAgB;AAC9B;AACA,WAAU,cAAc;AACxB,YAAW,QAAQ;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA6D,mBAAmB;AAChF;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,cAAc;AACzB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS,sBAAsB,WAAW,YAAY;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yFAAwF;AACxF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,eAAe;AAC1B,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,eAAe;AAC1B,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,eAAe;AAC1B,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnjCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,aAAY;AACZ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA2C,SAAS;AACpD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;;;;;;;;ACjKA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,SAAS;AACpB,YAAW,MAAM;AACjB;AACA;AACA;;AAEA,6C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,G;;;;;;ACvBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,aAAY;AACZ;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oDAAoD;AACpE;AACA;AACA,YAAW,cAAc;AACzB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,sCAAsC;AACjD,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrKA;AACA;AACA;AACA,YAAW,OAAO;AAClB,aAAY;AACZ;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,gBAAgB;AAC3B,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA,gBAAe;AACf,mBAAkB,OAAO;AACzB,iBAAgB,OAAO;AACvB,qBAAoB,SAAS;AAC7B,oBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2CAA0C;AAC1C;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,E;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA,4D;AACA,UAAS;AACT;AACA,GAAE;AACF;AACA;AACA;AACA,GAAE;AACF;AACA,oB;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,4C;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,G;;;;;;AC1BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,0CAAyC;;AAEzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAuC,yCAAyC;AAChF;AACA,4DAA2D,8CAA8C;AACzG,cAAa;AACb;AACA;AACA;AACA,gDAA+C,yCAAyC;AACxF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;AACA,oCAAmC,6DAA6D;AAChG;AACA;AACA;;;;;;;AC5EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA,4B;AACA;AACA,+BAA8B,wBAAwB;AACtD,sEAAqE,aAAa;AAClF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;AACH;AACA;AACA,KAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA,uDAAsD,kBAAkB,8CAA8C,EAAE;AACxH,uDAAsD,kBAAkB,sCAAsC,EAAE;AAChH;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,G;;;;;;;ACpHA,oCAAmC;AACnC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,gBAAe,OAAO;AACtB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,gC;AACA;AACA,qCAAoC;AACpC,UAAS;AACT;AACA;AACA;;AAEA,oBAAmB,OAAO;AAC1B;;AAEA;AACA,MAAK;AACL;AACA;AACA;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;;AAEA;AACA,aAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,kBAAiB;AACjB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"asa.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fb3aea52d8c314217a49","(function () {\n    require('./boot')();\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.js\n// module id = 0\n// module chunks = 0","var browser = require('./browser');\nvar runBootSequence = function(bootSequence){\n    bootSequence = bootSequence || [];\n    if (!(bootSequence instanceof Array)) bootSequence = [bootSequence];\n\n    for (var i = 0; i < bootSequence.length; i++) {\n        browser.window.asa.apply(null, bootSequence[i]);\n    }\n};\n\nrequire('./polyfills')();\n\nmodule.exports = function(bootSequence){\n    // var DNT = navigator.doNotTrack || navigator.msDoNotTrack || browser.window.doNotTrack;\n    // if (DNT && (DNT === 'yes' || DNT.charAt(0) === '1')) return;\n\tvar partner = require('./partner');\n\tvar autoTrack = require('./auto_track');\n\tvar debug = require('./debug');\n\tvar inbox = require('./inbox');\n\tvar server = require('./server');\n\tvar features = require('./features');\n\n\ttry {\n\t\tvar pendingEvents = [];\n\t\tif ((typeof browser.window.asa !== 'undefined') && (typeof browser.window.asa.q !== 'undefined')) {\n\t\t\tpendingEvents = browser.window.asa.q;\n\t\t}\n\n\t\tbrowser.window.asa = inbox(server.submitEvent);\n\n\t\t// features.defineExperiment(features.MINI_AJAX, 10);\n        partner.setPartnerInfo();\n        runBootSequence(bootSequence);\n\n\t\tfor (var i = 0; i < pendingEvents.length; i++) {\n\t\t\tbrowser.window.asa.apply(null, pendingEvents[i]);\n\t\t}\n\n\t\t// autoTrack.sections();\n\t} catch (e) {\n\t\tdebug.forceLog('exception during init: ', e);\n        server.submitError(e, {location : 'boot script'});\n\t}\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/boot.js\n// module id = 1\n// module chunks = 0","module.exports = {\n    window : window,\n    document : document    \n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/browser.js\n// module id = 2\n// module chunks = 0 1","function installTrimPolyfill() {\n    if (!String.prototype.trim) {\n        String.prototype.trim = function() {\n            return this.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        };\n    }\n}\nfunction installEndsWithPolyfill() {\n    if (!String.prototype.endsWith) {\n        String.prototype.endsWith = function(searchString, position) {\n            var subjectString = this.toString();\n            if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n                position = subjectString.length;\n            }\n            position -= searchString.length;\n            var lastIndex = subjectString.indexOf(searchString, position);\n            return lastIndex !== -1 && lastIndex === position;\n        };\n    }\n}\nmodule.exports = function() {\n    installTrimPolyfill();\n    installEndsWithPolyfill();\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/polyfills.js\n// module id = 3\n// module chunks = 0","var parseUri = require('./parseuri');\nvar browser = require('./browser');\n\nvar updatePartnerInfo = function (){\n\tvar partnerIdKey = '__as.partner_id';\n\tvar partnerSIdKey = '__as.partner_sid';\n\tvar asaPartnerKey = '__asa';\n\tvar utmKeys = ['utm_medium','utm_source','utm_campaign','utm_content','utm_term'];\n\tvar uri = parseUri(browser.window.location.href);\n\tvar asaPartnerValue = decodeURIComponent(uri.queryKey.__asa || '').split('|');\n\tvar partnerId;\n\tvar partnerSId;\n\tif (asaPartnerValue) {\n\t\tpartnerId = asaPartnerValue[0];\n\t\tpartnerSId = asaPartnerValue[1];\n\t}\n\n\tutmKeys.forEach(function (key) {\n\t\tvar keyValue = decodeURIComponent(uri.queryKey[key] || '');\n\t\tif (keyValue) {\n\t\t\tbrowser.window.sessionStorage.setItem('__as.' + key, keyValue);\n\t\t} else {\n\t\t\tbrowser.window.sessionStorage.removeItem('__as.' + key);\n\t\t}\n\t});\n\n\tif (partnerId){\n\t\tbrowser.window.sessionStorage.setItem(partnerIdKey, partnerId);\n\t} else {\n\t\tbrowser.window.sessionStorage.removeItem(partnerIdKey);\n\t}\n\tif (partnerSId){\n\t\tbrowser.window.sessionStorage.setItem(partnerSIdKey, partnerSId);\n\t} else {\n\t\tbrowser.window.sessionStorage.removeItem(partnerSIdKey);\n\t}\n};\nmodule.exports = {\n\n\tsetPartnerInfo : function(){\n\t\tvar referrer = parseUri(browser.document.referrer).authority;\n\t\tvar currentHost = parseUri(browser.window.location.origin).authority;\n\t\tif (referrer != currentHost){\n\t\t\tupdatePartnerInfo();\n\t\t}\n\t}\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/partner.js\n// module id = 4\n// module chunks = 0","// parseUri 1.2.2\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\n\nfunction parseUri (str) {\n\tvar\to   = parseUri.options,\n\t\tm   = o.parser[o.strictMode ? \"strict\" : \"loose\"].exec(str),\n\t\turi = {},\n\t\ti   = 14;\n\n\twhile (i--) uri[o.key[i]] = m[i] || \"\";\n\n\turi[o.q.name] = {};\n\turi[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n\t\tif ($1) uri[o.q.name][$1] = $2;\n\t});\n\n\treturn uri;\n}\n\nparseUri.options = {\n\tstrictMode: false,\n\tkey: [\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],\n\tq:   {\n\t\tname:   \"queryKey\",\n\t\tparser: /(?:^|&)([^&=]*)=?([^&]*)/g\n\t},\n\tparser: {\n\t\tstrict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n\t\tloose:  /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n\t}\n};\n\nmodule.exports = parseUri;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/parseuri.js\n// module id = 5\n// module chunks = 0 1","var session = require('./session');\nvar parseUri = require('./parseuri');\nvar browser = require('./browser');\n\nmodule.exports = {\n\tsections: function () {\n\t\tvar locationHashChanged = function (oldHash, newHash) {\n\t\t\tasa('sectionentered', newHash.substr(1));\n\t\t};\n\t\tvar storedHash = '';\n\t\tbrowser.window.setInterval(function () {\n\t\t\tif (browser.window.location.hash != storedHash) {\n\t\t\t\tvar newHash = browser.window.location.hash;\n\t\t\t\tlocationHashChanged(storedHash, newHash);\n\t\t\t\tstoredHash = newHash;\n\t\t\t}\n\t\t}, 100);\n\t},\n\n\tlinks: function (domains) {\n\t\tvar domainsTracked = domains;\n\t\tvar tracker = function (ev) {\n\t\t\tvar href = ev.target.href;\n\t\t\tif (href) {\n\t\t\t\tvar destination = parseUri(href);\n\t\t\t\tif (domainsTracked.indexOf(destination.authority) > -1) {\n                    if (!destination.queryKey['__asa']){\n                        var alreadyHasParams = ev.target.href.indexOf('?') !== -1;\n                        href = href + (alreadyHasParams ? '&' : '?') + '__asa=' + encodeURIComponent(browser.window.asaId+'|'+session.getSession().id);\n                        ev.target.href = href;\n                    }\n\t\t\t\t\tvar utmKeys = ['utm_medium','utm_source','utm_campaign','utm_content','utm_term'];\n\t\t\t\t    var __as__campagin = {};\n\t\t\t\t    utmKeys.forEach(function (utm_key) {\n\t\t\t\t        var utm_value = browser.window.sessionStorage.getItem('__as.' + utm_key);\n\t\t\t\t        if (utm_value) {\n\t\t\t\t            __as__campagin[utm_key] = utm_value;\n\t\t\t\t        }\n\t\t\t\t    });\n\t\t\t\t\tif (Object.keys(__as__campagin).length) {\n\t\t\t\t\t\tif (!Object.keys(destination.queryKey).some(function (key) {\n\t\t\t\t\t\t\treturn key.indexOf('utm_') !== -1;\n\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\tvar hasParams = href.indexOf('?') !== -1;\n\t\t\t\t\t\t\tObject.keys(__as__campagin).forEach(function(d,i) {\n\t\t\t\t\t\t\t\thref = href + (!hasParams && i === 0 ? '?' : '&') + d + '=' + encodeURIComponent(__as__campagin[d]);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tev.target.href = href;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tbrowser.document.addEventListener('mousedown', tracker);\n\t\tbrowser.document.addEventListener('keyup', tracker);\n\t\tbrowser.document.addEventListener('touchstart', tracker);\n\t}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/auto_track.js\n// module id = 6\n// module chunks = 0 1","var debug = require('./debug');\nvar user = require('./user');\nvar randomness = require('./randomness');\nvar hash = require('./domain_hash').sessionHash;\nvar Cookies = require('./cookies');\nvar _ = require('./utils');\n\n\nvar persistence = {\n    get: function(id) {\n        try {\n            return Cookies.getItem(id);\n        } catch (e) {\n            throw new Error('Error while trying to get item from session cookie:' + id);\n        }\n    },\n    set: function(id, value) {\n        try {\n            return Cookies.setItem(id, value, Infinity, '/');\n        } catch (e) {\n            throw new Error('Error while trying to set item to session cookie: \"' + id + '\" <- ' + value);\n        }\n    }\n}\n\nvar store = {\n    hasItem: function(name) {\n        var item = persistence.get(name);\n        return item;\n    },\n    getItem: function(name) {\n        return persistence.get(name);\n    },\n    setItem: function(name, value) {\n        persistence.set(name, value);\n    },\n};\n\nvar sessionStore = store;\n\nvar SESSION_EXPIRE_TIMEOUT = 30 * 60 * 1000;\nvar SESSION_COOKIE_NAME = '__asa_session';\n\nvar builtinSessionManager = {\n    hasSession: function() {\n        var item = sessionStore.hasItem(SESSION_COOKIE_NAME);\n        try{\n            return item && JSON.parse(item).t > (1 * new Date());            \n        } catch(e) {\n            return false;\n        }\n    },\n\n    createSession: function(sessionData) {\n        sessionStore.setItem(SESSION_COOKIE_NAME, JSON.stringify(_.override(sessionData, { id: user.getDomainId() + '.' + hash(user.getUserId() + '.' + randomness.getNumber()), t: ((1 * new Date()) + SESSION_EXPIRE_TIMEOUT) })));\n    },\n\n    getSession: function() {\n        return JSON.parse(sessionStore.getItem(SESSION_COOKIE_NAME));\n    },\n    \n    updateTimeout: function updateTimeout(sessionData){\n        var session = this.getSession();\n        var sessionId = session.id;\n        session = _.override(session, sessionData);\n        session.t = ((1 * new Date()) + SESSION_EXPIRE_TIMEOUT);\n        session.id = sessionId;\n        \n        sessionStore.setItem(SESSION_COOKIE_NAME, JSON.stringify(session));\n    }\n\n};\nvar providedSessionManager = function(hasSessions, getSession, createSession) {\n    return {\n        hasSession: function() {\n            return hasSessions();\n        },\n\n        createSession: function() {\n            createSession();\n        },\n\n        getSession: function() {\n            return getSession();\n        }\n    };\n};\nvar sessionManager = builtinSessionManager;\nmodule.exports = {\n    getSession: function() {\n        return sessionManager.getSession();\n    },\n    hasSession: function() {\n        return !!(sessionManager.hasSession());\n    },\n    createSession: function(sessionData) {\n        sessionManager.createSession(sessionData);\n    },\n    customSession: function(hasSessions, getSession, createSession) {\n        sessionManager = providedSessionManager(hasSessions, getSession, createSession);\n    },\n    resetSessionMgmt: function resetSessionMgmt() {\n        sessionManager = builtinSessionManager;\n    },\n    updateTimeout: function updateTimeout(sessionData){\n        sessionManager.updateTimeout(sessionData);\n    }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/session.js\n// module id = 7\n// module chunks = 0 1","// old ie\nif (typeof console === 'undefined') {\n\twindow.console = {};\n}\nif (typeof console.log === 'undefined'){\n\twindow.console.log = function(){};\n}\n\nvar noLog = function noLog() { };\nvar doLog = function doLog() {\n\t[].unshift.call(arguments, 'asa.js:');\n\tconsole.log.apply(console, arguments);\n};\nvar me = module.exports = {\n\tlog: noLog,\n\tsetDebugMode: function (on) {\n\t\tme.log = on ? doLog : noLog;\n\t},\n\tforceLog:doLog\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/debug.js\n// module id = 8\n// module chunks = 0 1","// var cookies = require('./cookies');\nvar Cookies = require('cookies-js');\nvar domainHash = require('./domain_hash').domainHash;\nvar userHash = require('./domain_hash').userHash;\nvar randomness = require('./randomness');\nvar USER_ID_COOKIE = '__as_user';\nvar browser = require('./browser');\n\nvar generateUserId = function () {\n\treturn domainHash(browser.window.location.host) + '.' + userHash('' + randomness.getNumber());\n};\n\nvar userCreated = false;\n\nvar setUserId = function() {\n    var userId = generateUserId();\n    Cookies.set(USER_ID_COOKIE, userId, {expires: Infinity, path : '/'});\n    // return userId;    \n}\n\nvar getUserId = function () {\n\tif (!Cookies.get(USER_ID_COOKIE)) {\n        userCreated = true;\n        setUserId();\n\t}\n\n    var userId = Cookies.get(USER_ID_COOKIE);\n    if (userId.length > 70 || userId.length < 40) {\n        // we need proper migrations here\n        setUserId();\n        userId = Cookies.get(USER_ID_COOKIE);\n    }\n\n\treturn userId;\n};\n\nmodule.exports = {\n\tgetUserId: getUserId,\n\tgetDomainId: function () {\n\t\treturn domainHash(browser.window.location.host);\n\t},\n\tgetUserHash: function () {\n\t\treturn domainHash(getUserId().split('.')[1]);\n\t},\n    getAndResetNewUserStatus : function(){\n        if (userCreated) {\n            userCreated = false;\n            return true;\n        } else \n            return false;\n    }\n    \n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/user.js\n// module id = 9\n// module chunks = 0 1","/*\r\n * Cookies.js - 1.2.3\r\n * https://github.com/ScottHamper/Cookies\r\n *\r\n * This is free and unencumbered software released into the public domain.\r\n */\r\n(function (global, undefined) {\r\n    'use strict';\r\n\r\n    var factory = function (window) {\r\n        if (typeof window.document !== 'object') {\r\n            throw new Error('Cookies.js requires a `window` with a `document` object');\r\n        }\r\n\r\n        var Cookies = function (key, value, options) {\r\n            return arguments.length === 1 ?\r\n                Cookies.get(key) : Cookies.set(key, value, options);\r\n        };\r\n\r\n        // Allows for setter injection in unit tests\r\n        Cookies._document = window.document;\r\n\r\n        // Used to ensure cookie keys do not collide with\r\n        // built-in `Object` properties\r\n        Cookies._cacheKeyPrefix = 'cookey.'; // Hurr hurr, :)\r\n        \r\n        Cookies._maxExpireDate = new Date('Fri, 31 Dec 9999 23:59:59 UTC');\r\n\r\n        Cookies.defaults = {\r\n            path: '/',\r\n            secure: false\r\n        };\r\n\r\n        Cookies.get = function (key) {\r\n            if (Cookies._cachedDocumentCookie !== Cookies._document.cookie) {\r\n                Cookies._renewCache();\r\n            }\r\n            \r\n            var value = Cookies._cache[Cookies._cacheKeyPrefix + key];\r\n\r\n            return value === undefined ? undefined : decodeURIComponent(value);\r\n        };\r\n\r\n        Cookies.set = function (key, value, options) {\r\n            options = Cookies._getExtendedOptions(options);\r\n            options.expires = Cookies._getExpiresDate(value === undefined ? -1 : options.expires);\r\n\r\n            Cookies._document.cookie = Cookies._generateCookieString(key, value, options);\r\n\r\n            return Cookies;\r\n        };\r\n\r\n        Cookies.expire = function (key, options) {\r\n            return Cookies.set(key, undefined, options);\r\n        };\r\n\r\n        Cookies._getExtendedOptions = function (options) {\r\n            return {\r\n                path: options && options.path || Cookies.defaults.path,\r\n                domain: options && options.domain || Cookies.defaults.domain,\r\n                expires: options && options.expires || Cookies.defaults.expires,\r\n                secure: options && options.secure !== undefined ?  options.secure : Cookies.defaults.secure\r\n            };\r\n        };\r\n\r\n        Cookies._isValidDate = function (date) {\r\n            return Object.prototype.toString.call(date) === '[object Date]' && !isNaN(date.getTime());\r\n        };\r\n\r\n        Cookies._getExpiresDate = function (expires, now) {\r\n            now = now || new Date();\r\n\r\n            if (typeof expires === 'number') {\r\n                expires = expires === Infinity ?\r\n                    Cookies._maxExpireDate : new Date(now.getTime() + expires * 1000);\r\n            } else if (typeof expires === 'string') {\r\n                expires = new Date(expires);\r\n            }\r\n\r\n            if (expires && !Cookies._isValidDate(expires)) {\r\n                throw new Error('`expires` parameter cannot be converted to a valid Date instance');\r\n            }\r\n\r\n            return expires;\r\n        };\r\n\r\n        Cookies._generateCookieString = function (key, value, options) {\r\n            key = key.replace(/[^#$&+\\^`|]/g, encodeURIComponent);\r\n            key = key.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\r\n            value = (value + '').replace(/[^!#$&-+\\--:<-\\[\\]-~]/g, encodeURIComponent);\r\n            options = options || {};\r\n\r\n            var cookieString = key + '=' + value;\r\n            cookieString += options.path ? ';path=' + options.path : '';\r\n            cookieString += options.domain ? ';domain=' + options.domain : '';\r\n            cookieString += options.expires ? ';expires=' + options.expires.toUTCString() : '';\r\n            cookieString += options.secure ? ';secure' : '';\r\n\r\n            return cookieString;\r\n        };\r\n\r\n        Cookies._getCacheFromString = function (documentCookie) {\r\n            var cookieCache = {};\r\n            var cookiesArray = documentCookie ? documentCookie.split('; ') : [];\r\n\r\n            for (var i = 0; i < cookiesArray.length; i++) {\r\n                var cookieKvp = Cookies._getKeyValuePairFromCookieString(cookiesArray[i]);\r\n\r\n                if (cookieCache[Cookies._cacheKeyPrefix + cookieKvp.key] === undefined) {\r\n                    cookieCache[Cookies._cacheKeyPrefix + cookieKvp.key] = cookieKvp.value;\r\n                }\r\n            }\r\n\r\n            return cookieCache;\r\n        };\r\n\r\n        Cookies._getKeyValuePairFromCookieString = function (cookieString) {\r\n            // \"=\" is a valid character in a cookie value according to RFC6265, so cannot `split('=')`\r\n            var separatorIndex = cookieString.indexOf('=');\r\n\r\n            // IE omits the \"=\" when the cookie value is an empty string\r\n            separatorIndex = separatorIndex < 0 ? cookieString.length : separatorIndex;\r\n\r\n            var key = cookieString.substr(0, separatorIndex);\r\n            var decodedKey;\r\n            try {\r\n                decodedKey = decodeURIComponent(key);\r\n            } catch (e) {\r\n                if (console && typeof console.error === 'function') {\r\n                    console.error('Could not decode cookie with key \"' + key + '\"', e);\r\n                }\r\n            }\r\n            \r\n            return {\r\n                key: decodedKey,\r\n                value: cookieString.substr(separatorIndex + 1) // Defer decoding value until accessed\r\n            };\r\n        };\r\n\r\n        Cookies._renewCache = function () {\r\n            Cookies._cache = Cookies._getCacheFromString(Cookies._document.cookie);\r\n            Cookies._cachedDocumentCookie = Cookies._document.cookie;\r\n        };\r\n\r\n        Cookies._areEnabled = function () {\r\n            var testKey = 'cookies.js';\r\n            var areEnabled = Cookies.set(testKey, 1).get(testKey) === '1';\r\n            Cookies.expire(testKey);\r\n            return areEnabled;\r\n        };\r\n\r\n        Cookies.enabled = Cookies._areEnabled();\r\n\r\n        return Cookies;\r\n    };\r\n    var cookiesExport = (global && typeof global.document === 'object') ? factory(global) : factory;\r\n\r\n    // AMD support\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(function () { return cookiesExport; });\r\n    // CommonJS/Node.js support\r\n    } else if (typeof exports === 'object') {\r\n        // Support Node.js specific `module.exports` (which can be a function)\r\n        if (typeof module === 'object' && typeof module.exports === 'object') {\r\n            exports = module.exports = cookiesExport;\r\n        }\r\n        // But always support CommonJS module 1.1.1 spec (`exports` cannot be a function)\r\n        exports.Cookies = cookiesExport;\r\n    } else {\r\n        global.Cookies = cookiesExport;\r\n    }\r\n})(typeof window === 'undefined' ? this : window);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/cookies-js/dist/cookies.js\n// module id = 10\n// module chunks = 0 1","// this hashing algorithm is as found in some version of Google Analytics\n/* jshint ignore:start */\nvar sha = require('./sha1');\nfunction hash(d) {\n    var a = 1, c = 0, h, o;\n    if (d) {\n        a = 0;\n        for (h = d[\"length\"] - 1; h >= 0; h--) {\n            o = d.charCodeAt(h);\n            a = (a << 6 & 268435455) + o + (o << 14);\n            c = a & 266338304;\n            a = c != 0 ? a ^ c >> 21 : a\n        }\n    }\n    return a\n};\n\nmodule.exports = {\n    domainHash : hash,\n    sessionHash : sha,\n    userHash : sha\n}; \n\n/* jshint ignore:end */\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/domain_hash.js\n// module id = 11\n// module chunks = 0 1","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS 180-1\n * Version 2.2 Copyright Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\n\n/*\n * Configurable variables. You may need to tweak these to be compatible with\n * the server-side, but the defaults work in most cases.\n */\nvar hexcase = 0;  /* hex output format. 0 - lowercase; 1 - uppercase        */\nvar b64pad  = \"\"; /* base-64 pad character. \"=\" for strict RFC compliance   */\n\n/*\n * These are the functions you'll usually want to call\n * They take string arguments and return either hex or base-64 encoded strings\n */\nfunction hex_sha1(s)    { return rstr2hex(rstr_sha1(str2rstr_utf8(s))); }\nfunction b64_sha1(s)    { return rstr2b64(rstr_sha1(str2rstr_utf8(s))); }\nfunction any_sha1(s, e) { return rstr2any(rstr_sha1(str2rstr_utf8(s)), e); }\nfunction hex_hmac_sha1(k, d)\n  { return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction b64_hmac_sha1(k, d)\n  { return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d))); }\nfunction any_hmac_sha1(k, d, e)\n  { return rstr2any(rstr_hmac_sha1(str2rstr_utf8(k), str2rstr_utf8(d)), e); }\n\n/*\n * Perform a simple self-test to see if the VM is working\n */\nfunction sha1_vm_test()\n{\n  return hex_sha1(\"abc\").toLowerCase() == \"a9993e364706816aba3e25717850c26c9cd0d89d\";\n}\n\n/*\n * Calculate the SHA1 of a raw string\n */\nfunction rstr_sha1(s)\n{\n  return binb2rstr(binb_sha1(rstr2binb(s), s.length * 8));\n}\n\n/*\n * Calculate the HMAC-SHA1 of a key and some data (raw strings)\n */\nfunction rstr_hmac_sha1(key, data)\n{\n  var bkey = rstr2binb(key);\n  if(bkey.length > 16) bkey = binb_sha1(bkey, key.length * 8);\n\n  var ipad = Array(16), opad = Array(16);\n  for(var i = 0; i < 16; i++)\n  {\n    ipad[i] = bkey[i] ^ 0x36363636;\n    opad[i] = bkey[i] ^ 0x5C5C5C5C;\n  }\n\n  var hash = binb_sha1(ipad.concat(rstr2binb(data)), 512 + data.length * 8);\n  return binb2rstr(binb_sha1(opad.concat(hash), 512 + 160));\n}\n\n/*\n * Convert a raw string to a hex string\n */\nfunction rstr2hex(input)\n{\n  try { hexcase } catch(e) { hexcase=0; }\n  var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n  var output = \"\";\n  var x;\n  for(var i = 0; i < input.length; i++)\n  {\n    x = input.charCodeAt(i);\n    output += hex_tab.charAt((x >>> 4) & 0x0F)\n           +  hex_tab.charAt( x        & 0x0F);\n  }\n  return output;\n}\n\n/*\n * Convert a raw string to a base-64 string\n */\nfunction rstr2b64(input)\n{\n  try { b64pad } catch(e) { b64pad=''; }\n  var tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n  var output = \"\";\n  var len = input.length;\n  for(var i = 0; i < len; i += 3)\n  {\n    var triplet = (input.charCodeAt(i) << 16)\n                | (i + 1 < len ? input.charCodeAt(i+1) << 8 : 0)\n                | (i + 2 < len ? input.charCodeAt(i+2)      : 0);\n    for(var j = 0; j < 4; j++)\n    {\n      if(i * 8 + j * 6 > input.length * 8) output += b64pad;\n      else output += tab.charAt((triplet >>> 6*(3-j)) & 0x3F);\n    }\n  }\n  return output;\n}\n\n/*\n * Convert a raw string to an arbitrary string encoding\n */\nfunction rstr2any(input, encoding)\n{\n  var divisor = encoding.length;\n  var remainders = Array();\n  var i, q, x, quotient;\n\n  /* Convert to an array of 16-bit big-endian values, forming the dividend */\n  var dividend = Array(Math.ceil(input.length / 2));\n  for(i = 0; i < dividend.length; i++)\n  {\n    dividend[i] = (input.charCodeAt(i * 2) << 8) | input.charCodeAt(i * 2 + 1);\n  }\n\n  /*\n   * Repeatedly perform a long division. The binary array forms the dividend,\n   * the length of the encoding is the divisor. Once computed, the quotient\n   * forms the dividend for the next step. We stop when the dividend is zero.\n   * All remainders are stored for later use.\n   */\n  while(dividend.length > 0)\n  {\n    quotient = Array();\n    x = 0;\n    for(i = 0; i < dividend.length; i++)\n    {\n      x = (x << 16) + dividend[i];\n      q = Math.floor(x / divisor);\n      x -= q * divisor;\n      if(quotient.length > 0 || q > 0)\n        quotient[quotient.length] = q;\n    }\n    remainders[remainders.length] = x;\n    dividend = quotient;\n  }\n\n  /* Convert the remainders to the output string */\n  var output = \"\";\n  for(i = remainders.length - 1; i >= 0; i--)\n    output += encoding.charAt(remainders[i]);\n\n  /* Append leading zero equivalents */\n  var full_length = Math.ceil(input.length * 8 /\n                                    (Math.log(encoding.length) / Math.log(2)))\n  for(i = output.length; i < full_length; i++)\n    output = encoding[0] + output;\n\n  return output;\n}\n\n/*\n * Encode a string as utf-8.\n * For efficiency, this assumes the input is valid utf-16.\n */\nfunction str2rstr_utf8(input)\n{\n  var output = \"\";\n  var i = -1;\n  var x, y;\n\n  while(++i < input.length)\n  {\n    /* Decode utf-16 surrogate pairs */\n    x = input.charCodeAt(i);\n    y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\n    if(0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF)\n    {\n      x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\n      i++;\n    }\n\n    /* Encode output as utf-8 */\n    if(x <= 0x7F)\n      output += String.fromCharCode(x);\n    else if(x <= 0x7FF)\n      output += String.fromCharCode(0xC0 | ((x >>> 6 ) & 0x1F),\n                                    0x80 | ( x         & 0x3F));\n    else if(x <= 0xFFFF)\n      output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\n                                    0x80 | ((x >>> 6 ) & 0x3F),\n                                    0x80 | ( x         & 0x3F));\n    else if(x <= 0x1FFFFF)\n      output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\n                                    0x80 | ((x >>> 12) & 0x3F),\n                                    0x80 | ((x >>> 6 ) & 0x3F),\n                                    0x80 | ( x         & 0x3F));\n  }\n  return output;\n}\n\n/*\n * Encode a string as utf-16\n */\nfunction str2rstr_utf16le(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length; i++)\n    output += String.fromCharCode( input.charCodeAt(i)        & 0xFF,\n                                  (input.charCodeAt(i) >>> 8) & 0xFF);\n  return output;\n}\n\nfunction str2rstr_utf16be(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length; i++)\n    output += String.fromCharCode((input.charCodeAt(i) >>> 8) & 0xFF,\n                                   input.charCodeAt(i)        & 0xFF);\n  return output;\n}\n\n/*\n * Convert a raw string to an array of big-endian words\n * Characters >255 have their high-byte silently ignored.\n */\nfunction rstr2binb(input)\n{\n  var output = Array(input.length >> 2);\n  for(var i = 0; i < output.length; i++)\n    output[i] = 0;\n  for(var i = 0; i < input.length * 8; i += 8)\n    output[i>>5] |= (input.charCodeAt(i / 8) & 0xFF) << (24 - i % 32);\n  return output;\n}\n\n/*\n * Convert an array of big-endian words to a string\n */\nfunction binb2rstr(input)\n{\n  var output = \"\";\n  for(var i = 0; i < input.length * 32; i += 8)\n    output += String.fromCharCode((input[i>>5] >>> (24 - i % 32)) & 0xFF);\n  return output;\n}\n\n/*\n * Calculate the SHA-1 of an array of big-endian words, and a bit length\n */\nfunction binb_sha1(x, len)\n{\n  /* append padding */\n  x[len >> 5] |= 0x80 << (24 - len % 32);\n  x[((len + 64 >> 9) << 4) + 15] = len;\n\n  var w = Array(80);\n  var a =  1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d =  271733878;\n  var e = -1009589776;\n\n  for(var i = 0; i < x.length; i += 16)\n  {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    var olde = e;\n\n    for(var j = 0; j < 80; j++)\n    {\n      if(j < 16) w[j] = x[i + j];\n      else w[j] = bit_rol(w[j-3] ^ w[j-8] ^ w[j-14] ^ w[j-16], 1);\n      var t = safe_add(safe_add(bit_rol(a, 5), sha1_ft(j, b, c, d)),\n                       safe_add(safe_add(e, w[j]), sha1_kt(j)));\n      e = d;\n      d = c;\n      c = bit_rol(b, 30);\n      b = a;\n      a = t;\n    }\n\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n    e = safe_add(e, olde);\n  }\n  return Array(a, b, c, d, e);\n\n}\n\n/*\n * Perform the appropriate triplet combination function for the current\n * iteration\n */\nfunction sha1_ft(t, b, c, d)\n{\n  if(t < 20) return (b & c) | ((~b) & d);\n  if(t < 40) return b ^ c ^ d;\n  if(t < 60) return (b & c) | (b & d) | (c & d);\n  return b ^ c ^ d;\n}\n\n/*\n * Determine the appropriate additive constant for the current iteration\n */\nfunction sha1_kt(t)\n{\n  return (t < 20) ?  1518500249 : (t < 40) ?  1859775393 :\n         (t < 60) ? -1894007588 : -899497514;\n}\n\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\nfunction safe_add(x, y)\n{\n  var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return (msw << 16) | (lsw & 0xFFFF);\n}\n\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\nfunction bit_rol(num, cnt)\n{\n  return (num << cnt) | (num >>> (32 - cnt));\n}\n\nmodule.exports = hex_sha1;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sha1.js\n// module id = 12\n// module chunks = 0 1","module.exports = {\n\tgetNumber : function(){\n\t\treturn Math.round(Math.random() * new Date());\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/randomness.js\n// module id = 13\n// module chunks = 0 1","/*\\\n|*|\n|*|  :: cookies.js ::\n|*|\n|*|  A complete cookies reader/writer framework with full unicode support.\n|*|\n|*|  Revision #1 - September 4, 2014\n|*|\n|*|  https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\n|*|  https://developer.mozilla.org/User:fusionchess\n|*|\n|*|  This framework is released under the GNU Public License, version 3 or later.\n|*|  http://www.gnu.org/licenses/gpl-3.0-standalone.html\n|*|\n|*|  Syntaxes:\n|*|\n|*|  * docCookies.setItem(name, value[, end[, path[, domain[, secure]]]])\n|*|  * docCookies.getItem(name)\n|*|  * docCookies.removeItem(name[, path[, domain]])\n|*|  * docCookies.hasItem(name)\n|*|  * docCookies.keys()\n|*|\n\\*/\n\nvar docCookies = {\n  getItem: function (sKey) {\n    if (!sKey) { return null; }\n    return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n  },\n  setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n    if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n    var sExpires = \"\";\n    if (vEnd) {\n      switch (vEnd.constructor) {\n        case Number:\n          sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n          break;\n        case String:\n          sExpires = \"; expires=\" + vEnd;\n          break;\n        case Date:\n          sExpires = \"; expires=\" + vEnd.toUTCString();\n          break;\n      }\n    }\n    document.cookie = encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue) + sExpires + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\") + (bSecure ? \"; secure\" : \"\");\n    return true;\n  },\n  removeItem: function (sKey, sPath, sDomain) {\n    if (!this.hasItem(sKey)) { return false; }\n    document.cookie = encodeURIComponent(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n    return true;\n  },\n  hasItem: function (sKey) {\n    if (!sKey) { return false; }\n    return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n  },\n  keys: function () {\n    var aKeys = document.cookie.replace(/((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g, \"\").split(/\\s*(?:\\=[^;]*)?;\\s*/);\n    for (var nLen = aKeys.length, nIdx = 0; nIdx < nLen; nIdx++) { aKeys[nIdx] = decodeURIComponent(aKeys[nIdx]); }\n    return aKeys;\n  }\n};\n\nmodule.exports = docCookies;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/cookies.js\n// module id = 14\n// module chunks = 0 1","var debug = require('./debug');\nvar server = require('./server');\nvar copyProps = function copyProps(o1, o2) {\n    for (var key in o2) {\n        if (o2.hasOwnProperty(key) && o2[key] !== undefined) {\n            o1[key] = o2[key];\n        }\n    }\n}\nmodule.exports = {\n    override: function(o1, o2) {\n        if (!o1 && !o2) return undefined;\n        if (!o1 && o2) return o2;\n        if (o1 && !o2) return o1;\n        var result = {};\n        copyProps(result, o1);\n        copyProps(result, o2);\n        return result;\n    },\n    runSafe: function runSafe(fn, msg, retryPeriod, retryCount, cb) {\n        if (typeof retryCount === 'undefined') {\n            retryCount = 10;\n        }\n        retryPeriod = retryPeriod || 100;\n        cb = cb || function(){};\n        try {\n            fn();\n            cb();\n        } catch (e) {\n            if (retryCount <= 0) {\n                debug.forceLog('runSafe exception: ', e);\n                server.submitError(e, { location: 'runSafe', arguments: arguments, description: msg });\n                cb(e);\n            } else {\n                setTimeout(function(){runSafe(fn, msg, retryPeriod, retryCount - 1, cb)}, retryPeriod);\n            }\n        }\n    }\n\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/utils.js\n// module id = 15\n// module chunks = 0 1","var r = require('superagent');\nvar debug = require('./debug');\nvar ajax = require('./ajax');\nvar features = require('./features');\nvar formatting = require('./formatting');\nvar info = require('./version');\n\nvar pendingSubmission = [], done = true;\nvar batchIntervalHandler;\n\nvar eventPostAddress = '//inbox.activitystream.com/asa';\nvar errorPostAddress = '//inbox.activitystream.com/asa/error';\n\nvar post = function(packet, callback) {\n    var request = ajax.post(eventPostAddress, 'POST', callback);\n    request.setRequestHeader('Content-Type', 'text/plain; charset=UTF-8');\n    request.send(JSON.stringify(packet));\n};\n\nvar submitData = function(data, opts, callback) {\n    opts = opts || { url: eventPostAddress };\n    var packet = {\n        ev: data,\n        t: formatting.formatDateTime(new Date())\n    };\n\n    debug.log('submitting data: ', data);\n    if (features.isExperiment(features.MINI_AJAX)) {\n        post(packet, function(err, res) {\n            if (callback) {\n                callback(err, res);\n            } else {\n                if (err) {\n                    debug.log('error on server', err);\n                } else {\n                    debug.log('server got it');\n                }\n            }\n        });\n\n    } else {\n        r\n            .post(opts.url)\n            .set('Content-Type', 'application/json')\n            .send(packet)\n            .end(function(err, res) {\n                if (callback) {\n                    callback(err, res);\n                } else {\n                    if (err) {\n                        debug.log('error on server', err);\n                    } else {\n                        debug.log('server got it');\n                    }\n                }\n            });\n    }\n}\n\nvar submitEvent = function(ev, callback) {\n    if (ev) submitData(ev, { url: eventPostAddress }, callback);\n}\n\nvar submitError = function(err, context, callback) {\n    if (typeof context === 'function') {\n        callback = context;\n        context = {};\n    }\n    if (err && (err.code === 22 || err.code === 18)) return;// skipping error 22 and 18 - related to quota storage. it seems related to people browsing in private mode\n    submitData({ err: err, context: context, v: info.version() }, { url: errorPostAddress }, callback);\n}\n\nvar submitNow = function(ev) {\n    if (ev instanceof Array) {\n        for (var i = 0; i < ev.length; i++) {\n            submitEvent(ev[i]);\n        }\n    } else {\n        submitEvent(ev);\n    }\n};\n\nvar submitNow2 = function(ev) {\n    done = false;\n    submitEvent(ev, function(err, res) {\n        if (err) {\n            debug.log('error on server', err);\n        } else {\n            pendingSubmission.splice(0, ev.length);\n            debug.log('server got it');\n        }\n        done = true;\n    });\n};\nvar errorSubmitter;\nvar eventSubmitter;\nvar setDefaultSubmitters = function() {\n    errorSubmitter = submitError;\n    eventSubmitter = submitNow;\n}\nsetDefaultSubmitters();\nmodule.exports = {\n    submitError: errorSubmitter,\n    submitEvent: eventSubmitter,\n    batchEvent: function(e) {\n        pendingSubmission.push(e);\n    },\n    batchOn: function() {\n        batchIntervalHandler = setInterval(function batchProcessor() {\n            try {\n                if (pendingSubmission.length > 0 && done) {\n                    var batchSize = Math.min(pendingSubmission.length, 10);\n                    submitNow2(pendingSubmission.slice(0, batchSize));\n                }\n            } catch (e) {\n                debug.log('exception submitting', e);\n            }\n        }, 400);\n    },\n    batchOff: function() {\n        if (!batchIntervalHandler) {\n            debug.log('cannot batch off, it is not on');\n        } else {\n            clearInterval(batchIntervalHandler);\n        }\n    },\n    override: function overrideSubmits(submitEv, submitErr) {\n        errorSubmitter = submitErr || errorSubmitter;\n        eventSubmitter = submitEv || eventSubmitter;\n    },\n    reset: setDefaultSubmitters\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/server.js\n// module id = 16\n// module chunks = 0 1","/**\n * Module dependencies.\n */\n\nvar Emitter = require('emitter');\nvar reduce = require('reduce');\nvar requestBase = require('./request-base');\nvar isObject = require('./is-object');\n\n/**\n * Root reference for iframes.\n */\n\nvar root;\nif (typeof window !== 'undefined') { // Browser window\n  root = window;\n} else if (typeof self !== 'undefined') { // Web Worker\n  root = self;\n} else { // Other environments\n  root = this;\n}\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Expose `request`.\n */\n\nvar request = module.exports = require('./request').bind(null, Request);\n\n/**\n * Determine XHR.\n */\n\nrequest.getXHR = function () {\n  if (root.XMLHttpRequest\n      && (!root.location || 'file:' != root.location.protocol\n          || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  return false;\n};\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (null != obj[key]) {\n      pushEncodedKeyValuePair(pairs, key, obj[key]);\n        }\n      }\n  return pairs.join('&');\n}\n\n/**\n * Helps 'serialize' with serializing arrays.\n * Mutates the pairs array.\n *\n * @param {Array} pairs\n * @param {String} key\n * @param {Mixed} val\n */\n\nfunction pushEncodedKeyValuePair(pairs, key, val) {\n  if (Array.isArray(val)) {\n    return val.forEach(function(v) {\n      pushEncodedKeyValuePair(pairs, key, v);\n    });\n  }\n  pairs.push(encodeURIComponent(key)\n    + '=' + encodeURIComponent(val));\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var parts;\n  var pair;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    parts = pair.split('=');\n    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Check if `mime` is json or has +json structured syntax suffix.\n *\n * @param {String} mime\n * @return {Boolean}\n * @api private\n */\n\nfunction isJSON(mime) {\n  return /[\\/+]json\\b/.test(mime);\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return reduce(str.split(/ *; */), function(obj, str){\n    var parts = str.split(/ *= */)\n      , key = parts.shift()\n      , val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  // responseText is accessible only if responseType is '' or 'text' and on older browsers\n  this.text = ((this.req.method !='HEAD' && (this.xhr.responseType === '' || this.xhr.responseType === 'text')) || typeof this.xhr.responseType === 'undefined')\n     ? this.xhr.responseText\n     : null;\n  this.statusText = this.req.xhr.statusText;\n  this.setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this.setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this.parseBody(this.text ? this.text : this.xhr.response)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype.setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype.parseBody = function(str){\n  var parse = request.parse[this.type];\n  if (!parse && isJSON(this.type)) {\n    parse = request.parse['application/json'];\n  }\n  return parse && str && (str.length || str instanceof Object)\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype.setStatusProperties = function(status){\n  // handle IE9 bug: http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n  if (status === 1223) {\n    status = 204;\n  }\n\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = this.statusCode = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {}; // preserves header name case\n  this._header = {}; // coerces header names to lowercase\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self);\n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      // issue #675: return the raw response if the response parsing fails\n      err.rawResponse = self.xhr && self.xhr.responseText ? self.xhr.responseText : null;\n      // issue #876: return the http status code if the response parsing fails\n      err.statusCode = self.xhr && self.xhr.status ? self.xhr.status : null;\n      return self.callback(err);\n    }\n\n    self.emit('response', res);\n\n    if (err) {\n      return self.callback(err, res);\n    }\n\n    if (res.status >= 200 && res.status < 300) {\n      return self.callback(err, res);\n    }\n\n    var new_err = new Error(res.statusText || 'Unsuccessful HTTP response');\n    new_err.original = err;\n    new_err.response = res;\n    new_err.status = res.status;\n\n    self.callback(new_err, res);\n  });\n}\n\n/**\n * Mixin `Emitter` and `requestBase`.\n */\n\nEmitter(Request.prototype);\nfor (var key in requestBase) {\n  Request.prototype[key] = requestBase[key];\n}\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr && this.xhr.abort();\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set responseType to `val`. Presently valid responseTypes are 'blob' and \n * 'arraybuffer'.\n *\n * Examples:\n *\n *      req.get('/')\n *        .responseType('blob')\n *        .end(callback);\n *\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.responseType = function(val){\n  this._responseType = val;\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @param {Object} options with 'type' property 'auto' or 'basic' (default 'basic')\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass, options){\n  if (!options) {\n    options = {\n      type: 'basic'\n    }\n  }\n\n  switch (options.type) {\n    case 'basic':\n      var str = btoa(user + ':' + pass);\n      this.set('Authorization', 'Basic ' + str);\n    break;\n\n    case 'auto':\n      this.username = user;\n      this.password = pass;\n    break;\n  }\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach(new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  this._getFormData().append(field, file, filename || file.name);\n  return this;\n};\n\nRequest.prototype._getFormData = function(){\n  if (!this._formData) {\n    this._formData = new root.FormData();\n  }\n  return this._formData;\n};\n\n/**\n * Send `data` as the request body, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"}')\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n  *      request.post('/user')\n  *        .send('name=tobi')\n  *        .send('species=ferret')\n  *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.send = function(data){\n  var obj = isObject(data);\n  var type = this._header['content-type'];\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    if (!type) this.type('form');\n    type = this._header['content-type'];\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj || isHost(data)) return this;\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * @deprecated\n */\nResponse.prototype.parse = function serialize(fn){\n  if (root.console) {\n    console.warn(\"Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0\");\n  }\n  this.serialize(fn);\n  return this;\n};\n\nResponse.prototype.serialize = function serialize(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  fn(err, res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Request has been terminated\\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');\n  err.crossDomain = true;\n\n  err.status = this.status;\n  err.method = this.method;\n  err.url = this.url;\n\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype.timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequest.prototype.withCredentials = function(){\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = request.getXHR();\n  var query = this._query.join('&');\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n\n    // In IE9, reads to any property (e.g. status) off of an aborted XHR will\n    // result in the error \"Could not complete the operation due to error c00c023f\"\n    var status;\n    try { status = xhr.status } catch(e) { status = 0; }\n\n    if (0 == status) {\n      if (self.timedout) return self.timeoutError();\n      if (self.aborted) return;\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  var handleProgress = function(e){\n    if (e.total > 0) {\n      e.percent = e.loaded / e.total * 100;\n    }\n    e.direction = 'download';\n    self.emit('progress', e);\n  };\n  if (this.hasListeners('progress')) {\n    xhr.onprogress = handleProgress;\n  }\n  try {\n    if (xhr.upload && this.hasListeners('progress')) {\n      xhr.upload.onprogress = handleProgress;\n    }\n  } catch(e) {\n    // Accessing xhr.upload fails in IE from a web worker, so just pretend it doesn't exist.\n    // Reported here:\n    // https://connect.microsoft.com/IE/feedback/details/837245/xmlhttprequest-upload-throws-invalid-argument-when-used-from-web-worker-context\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.timedout = true;\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  if (query) {\n    query = request.serializeObject(query);\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n\n  // initiate request\n  if (this.username && this.password) {\n    xhr.open(this.method, this.url, true, this.username, this.password);\n  } else {\n    xhr.open(this.method, this.url, true);\n  }\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {\n    // serialize stuff\n    var contentType = this._header['content-type'];\n    var serialize = this._parser || request.serialize[contentType ? contentType.split(';')[0] : ''];\n    if (!serialize && isJSON(contentType)) serialize = request.serialize['application/json'];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  if (this._responseType) {\n    xhr.responseType = this._responseType;\n  }\n\n  // send stuff\n  this.emit('request', this);\n\n  // IE11 xhr.send(undefined) sends 'undefined' string as POST payload (instead of nothing)\n  // We need null here if data is undefined\n  xhr.send(typeof data !== 'undefined' ? data : null);\n  return this;\n};\n\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nfunction del(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\nrequest['del'] = del;\nrequest['delete'] = del;\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/superagent/lib/client.js\n// module id = 17\n// module chunks = 0 1","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/superagent/~/component-emitter/index.js\n// module id = 18\n// module chunks = 0 1","\n/**\n * Reduce `arr` with `fn`.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Mixed} initial\n *\n * TODO: combatible error handling?\n */\n\nmodule.exports = function(arr, fn, initial){  \n  var idx = 0;\n  var len = arr.length;\n  var curr = arguments.length == 3\n    ? initial\n    : arr[idx++];\n\n  while (idx < len) {\n    curr = fn.call(null, curr, arr[idx], ++idx, arr);\n  }\n  \n  return curr;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/superagent/~/reduce-component/index.js\n// module id = 19\n// module chunks = 0 1","/**\n * Module of mixed-in functions shared between node and client code\n */\nvar isObject = require('./is-object');\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nexports.clearTimeout = function _clearTimeout(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Force given parser\n *\n * Sets the body parser no matter type.\n *\n * @param {Function}\n * @api public\n */\n\nexports.parse = function parse(fn){\n  this._parser = fn;\n  return this;\n};\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nexports.timeout = function timeout(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Faux promise support\n *\n * @param {Function} fulfill\n * @param {Function} reject\n * @return {Request}\n */\n\nexports.then = function then(fulfill, reject) {\n  return this.end(function(err, res) {\n    err ? reject(err) : fulfill(res);\n  });\n}\n\n/**\n * Allow for extension\n */\n\nexports.use = function use(fn) {\n  fn(this);\n  return this;\n}\n\n\n/**\n * Get request header `field`.\n * Case-insensitive.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nexports.get = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Get case-insensitive header `field` value.\n * This is a deprecated internal API. Use `.get(field)` instead.\n *\n * (getHeader is no longer used internally by the superagent code base)\n *\n * @param {String} field\n * @return {String}\n * @api private\n * @deprecated\n */\n\nexports.getHeader = exports.get;\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n * Case-insensitive.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nexports.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n * Case-insensitive.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n */\nexports.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File|Buffer|fs.ReadStream} val\n * @return {Request} for chaining\n * @api public\n */\nexports.field = function(name, val) {\n  this._getFormData().append(name, val);\n  return this;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/superagent/lib/request-base.js\n// module id = 20\n// module chunks = 0 1","/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return null != obj && 'object' == typeof obj;\n}\n\nmodule.exports = isObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/superagent/lib/is-object.js\n// module id = 21\n// module chunks = 0 1","// The node and browser modules expose versions of this with the\n// appropriate constructor function bound as first argument\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(RequestConstructor, method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new RequestConstructor('GET', method).end(url);\n  }\n\n  // url first\n  if (2 == arguments.length) {\n    return new RequestConstructor('GET', method);\n  }\n\n  return new RequestConstructor(method, url);\n}\n\nmodule.exports = request;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/superagent/lib/request.js\n// module id = 22\n// module chunks = 0 1","module.exports = {\n    post: /**\n * Make a X-Domain request to url and callback.\n *\n * @param url {String}\n * @param method {String} HTTP verb ('GET', 'POST', 'DELETE', etc.)\n * @param data {String} request body\n * @param callback {Function} to callback on completion\n * @param errback {Function} to callback on error\n */\n    function xdr(url, method, callback) {\n        var req;\n\n        if (XMLHttpRequest) {\n            req = new XMLHttpRequest();\n\n            if ('withCredentials' in req) {\n                req.open(method, url, true);\n                req.onerror = function(e){callback(e, null);};\n                req.onreadystatechange = function () {\n                    if (req.readyState === 4) {\n                        if (req.status >= 200 && req.status < 400) {\n                            callback(null,req.responseText);\n                        } else {\n                            callback(new Error('Response returned with non-OK status'));\n                        }\n                    }\n                };\n                return req;\n            }\n        } else if (XDomainRequest) {\n            req = new XDomainRequest();\n            req.open(method, url);\n            req.onerror = function(e){callback(e, null);};\n            req.onload = function () {\n                callback(null,req.responseText);\n            };\n            return req;\n        } else {\n            throw new Error('CORS not supported');\n        }\n    }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ajax.js\n// module id = 23\n// module chunks = 0 1","var user = require('./user');\nvar experiments = {};\nmodule.exports = {\n\tdefineExperiment : function(name, percentage){\n        if (typeof percentage === 'boolean'){\n            if (percentage) experiments[name] = percentage;    \n        } else \n\t\texperiments[name] = (user.getUserHash() % 100) <= percentage;\n\t},\n\tisExperiment : function(name){\n\t\tvar exp = experiments[name];\n\t\treturn !!exp;\n\t},\n\tclearExperiments : function(){\n\t\texperiments = {};\t\n\t},\n\texperimentsLive : function(){\n\t\tvar result = [];\n\t\tfor (var exp in experiments) {\n\t\t\tif (experiments.hasOwnProperty(exp)) {\n\t\t\t\tif (experiments[exp]) result.push(exp);\t\t\t\t\n\t\t\t}\n\t\t}\n\t\treturn result.join('.');\n\t},\n\tMINI_AJAX : 'miniAjax'\t\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/features.js\n// module id = 24\n// module chunks = 0 1","module.exports = {\n \n    formatDateTime: function (time) {\n        function pad(number) {\n            if (number < 10) {\n                return '0' + number;\n            }\n            return number;\n        }\n        function timezone(time) {\n            var hours = pad(Math.abs(Math.floor(time / 60)));\n            var minutes = pad(Math.abs(time % 60));\n            var sign = time > 0 ? '-' : '+';\n            return sign + hours + ':' + minutes;\n        }\n\n        return '' + time.getFullYear() +\n            '-' + pad(time.getMonth() + 1) +\n            '-' + pad(time.getDate()) +\n            'T' + pad(time.getHours()) +\n            ':' + pad(time.getMinutes()) +\n            ':' + pad(time.getSeconds()) +\n            '.' + (time.getMilliseconds() / 1000).toFixed(3).slice(2, 5) +\n            timezone(time.getTimezoneOffset());\n    }\n\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/formatting.js\n// module id = 25\n// module chunks = 0 1","var features = require('./features');\nvar major = 1,\n\tminor = 1,\n\tbuild = 77;\nmodule.exports = {\n\tmajor : major,\n\tminor: minor,\n\tbuild: build,\n\tversion : function(){\n\t\tvar experiments = '-'+features.experimentsLive();\n\t\tif (experiments === '-') experiments = '';\n\t\treturn [major, minor, build].join('.') + experiments;}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/version.js\n// module id = 26\n// module chunks = 0 1","var session = require('./session');\nvar microdata = require('./microdata');\nvar autoTrack = require('./auto_track');\nvar debug = require('./debug');\nvar event = require('./event');\nvar server = require('./server');\nvar Cookies = require('cookies-js');\nvar parseuri = require('./parseuri');\nvar user = require('./user');\nvar getCampaign = require('./campaign');\nvar getReferrer = require('./referrer');\nvar browser = require('./browser');\n\nvar postboxMessages = ['product.viewed', 'product.interest', 'customer.account.provided', 'order.reviewed', 'order.delivery.selected', 'purchase.completed', 'payment.failed', 'product.carted', 'product.uncarted', 'product.unavailable', 'product.searched'];\n\nmodule.exports = function inbox(transport) {\n    var serviceProviders = [];\n    var sessionResumed = false;\n    return function () {\n        try {\n            if (!Cookies.enabled) return; // let's avoid browsers without cookies for now\n\n            if (arguments[0] == 'session') {\n                session.customSession(arguments[1], arguments[2], arguments[3])\n                return;\n            }\n\n            if (arguments[0] == 'connectedPartners') {\n                autoTrack.links(arguments[1]);\n                return;\n            }\n            if (arguments[0] == 'serviceProviders') {\n                serviceProviders = arguments[1];\n                return;\n            }\n            if (arguments[0] == 'tenantId') {\n                browser.window.asaId = arguments[1];\n                return;\n            }\n            if (arguments[0] == 'debug') {\n                debug.setDebugMode(arguments[1]);\n                return;\n            }\n\n            if (arguments[0] == 'transformer') {\n                microdata.setMapper(arguments[1]);\n                return;\n            }\n\n            var campaign = getCampaign(browser.document.location, browser.document.referrer);\n            var referrer = getReferrer(browser.document.location, browser.document.referrer, serviceProviders);\n            if (!session.hasSession()) {\n                debug.log('no session, starting a new one');\n                session.createSession({ campaign: campaign, referrer: referrer });\n                sessionResumed = true;\n                transport(event.package('sessionStarted', { newBrowser: user.getAndResetNewUserStatus() }));\n            } else {\n                var referrerAuth = parseuri(browser.document.referrer).authority;\n                var currentAuth = parseuri(browser.document.location).authority;\n                    if ((referrerAuth != currentAuth && serviceProviders.indexOf(referrerAuth) === -1)) {\n                        session.updateTimeout({ campaign: campaign, referrer: referrer });\n                        debug.log('session resumed');\n                        sessionResumed = true;\n                        transport(event.package('sessionResumed'));\n                    }\n            }\n            \n            if (postboxMessages.indexOf(arguments[0]) !== -1) {\n                transport(event.newpackage.apply(event, arguments));\n            } else\n                transport(event.package.apply(event, arguments));\n        } catch (e) {\n            debug.forceLog('inbox exception:', e);\n            server.submitError(e, { location: 'processing inbox message', arguments: arguments });\n        }\n    };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/inbox.js\n// module id = 27\n// module chunks = 0 1","// var jq = $;\nvar jq = require('./DOM');\nvar debug = require('./debug');\n\nvar collectReferencedProperties = function (element, item) {\n\tvar refString = element.attr('itemref');\n\tif (typeof refString !== 'undefined') {\n\t\tvar refs = refString.split(' ');\n\t\tfor (var i = 0; i < refs.length; i++) {\n\t\t\tvar ref = refs[i];\n\t\t\tvar refItem = jq('#' + ref);\n\t\t\tif (refItem.length === 1){\n\t\t\t\tcollectProperties(refItem.get(0), item);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdebug.log('missing metadata element', ref);\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar collectComplexProperty = function (element) {\n\tvar item = {\n\t\t\"type\": element.attr(\"itemtype\"),\n\t\t\"properties\": {}\n\t};\n\tcollectReferencedProperties(element, item);\n\tcollectProperties(element, item);\n\treturn item;\n};\n\nvar collectSimpleProperty = function (el) {\n\tvar tag = el.prop('tagName');\n\tswitch (tag) {\n\t\tcase 'TIME': return el.attr('datetime');\n\t\tcase 'A':\n\t\tcase 'LINK':\n\t\t\treturn el.attr('href');\n\t\tdefault:\n\t\t\treturn el.prop(\"content\") || el.text() || el.attr(\"src\");\n\t}\n\n};\n\nvar collectProperties = function (el, item) {\n\tel.children().each(function (_, c) {\n\t\tvar child = jq(c);\n\t\tvar prop = child.attr('itemprop');\n\t\tif (typeof prop === 'string') {\n\t\t\tif (typeof child.attr('itemscope') !== 'undefined') {\n\t\t\t\titem.properties[prop] = collectComplexProperty(child);\n\t\t\t} else {\n\t\t\t\titem.properties[prop] = collectSimpleProperty(child);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof child.attr('itemscope') == 'undefined') {\n\t\t\tcollectProperties(child, item);\n\t\t}\n\t});\n};\n\nvar findTopLevelItems = function (el) {\n\tif (!el) return undefined; \n\tvar items = [];\n\tif (typeof el === 'string') { el = jq('#'+el).get(0); }\n\telse if (typeof el === 'object' && typeof el.tagName === 'string') { el = jq(el); }\n\telse return {};\n\n\tvar processElement = function (e) {\n\t\tvar el = jq(e);\n\t\tvar itemScope = el.attr('itemscope');\n\t\tvar itemProp = el.attr('itemprop');\n\t\tif (typeof itemScope !== 'undefined') {\n\t\t\tif (typeof itemProp !== 'undefined') {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\titems.push(theOneMapper(collectComplexProperty(el), el));\n\t\t\t}\n\t\t} else {\n\t\t\tel.children().each(function (_, c) {\n\t\t\t\tprocessElement(c);\n\t\t\t});\n\t\t}\n\t};\n\n\tprocessElement(el);\n\n\tif (items.length === 0) return {};\n\tif (items.length === 1) return items[0];\n\treturn {'__items' : items};\n};\n\nvar extractFromHead = function () {\n\tvar meta = {};\n\tjq('head > meta[property^=\"og:\"]').each(function () { var m = jq(this); meta[m.attr('property')] = m.attr('content'); });\n\tjq('head > meta[name=\"keywords\"]').each(function () { var m = jq(this); meta[\"keywords\"] = m.attr('content'); });\n\treturn theOneMapper(meta);\n};\nvar noMapper = function(m) {return m;};\nvar theOneMapper = noMapper;\nvar callbackWrapper = function callbackWrapper(cb){\n\treturn function(meta, el){\n\t\ttry{\n\t\t\treturn cb(meta, el);\n\t\t} catch(e){\n\t\t\treturn meta;\n\t\t}\n\t}\n}\nmodule.exports = {\n\textract: findTopLevelItems,\n\textractFromHead: extractFromHead,\n\tsetMapper : function(mapper){\n\t\ttheOneMapper = callbackWrapper(mapper);\n\t},\n\tnoMapper : noMapper\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/microdata.js\n// module id = 28\n// module chunks = 0 1","\n// Prototype of our jQuery killer ;)\nfunction DOMElement() {\n}\n\nDOMElement.prototype.text = function text() {\n    return this._element.textContent;\n};\n\nDOMElement.prototype.attr = function attr(name) {\n    // emulating the jQuery behaviour\n    var attrValue = this._element.getAttribute('' + name);\n    if (attrValue === null) return undefined;\n    else\n        return attrValue;\n};\n\nDOMElement.prototype.prop = function prop(name) {\n    return this._element[name];\n};\n\nDOMElement.prototype.children = function children() {\n\n    var c = this._element.children,\n        $doms = [],\n        i, n = c.length;\n\n    for (i = 0; i < n; i++)\n        $doms[i] = $DOM(c[i]);\n\n    return new DOMElements($doms);\n};\n\nfunction DOMElements(els) {\n    this._els = els;\n    this.length = els.length;\n}\n\nDOMElements.prototype.each = function each(callback) {\n    for (var i = 0; i < this._els.length; i++) {\n        var element = this._els[i];\n        callback.call(element, i, element);\n    }\n};\n\nDOMElements.prototype.get = function get(index) {\n    return this._els[index];\n};\n\n// query parameter is either an element id or a css-style selector\nvar $DOM = module.exports = function $DOM(query) {\n\n    if (!query || !(typeof query === 'string' || query instanceof Element || query instanceof DOMElement || query instanceof DOMElements)) {\n        throw new Error('Invalid argument provided:' + query);\n    }\n\n    if (query instanceof DOMElement || query instanceof DOMElements) return query;\n\n    if (query instanceof Element) {\n        var wrapper = new DOMElement();\n        wrapper._element = query;\n        return wrapper;\n    }\n\n    query = ('' + query).trim();\n\n    var elem, elems = [], i, n;\n\n    try {\n        if (query[0] === '#') {         \n            elem = document.getElementById(query.substr(1));\n            if (elem) elem = [elem]; else elem = [];\n        } else {\n            elem = document.querySelectorAll(query);\n        }\n        n = elem.length;\n\n        for (i = 0; i < n; i++)\n            elems.push($DOM(elem[i]));\n\n        return new DOMElements(elems);\n    } catch (exception) {\n        throw new Error('Invalid selector: ' + query);\n    }\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/DOM.js\n// module id = 29\n// module chunks = 0 1","var microdata = require('./microdata');\nvar session = require('./session');\nvar info = require('./version');\nvar user = require('./user');\nvar _ = require('./utils');\nvar parseUri = require('./parseuri');\nvar Cookies = require('cookies-js');\nvar formatting = require('./formatting');\nvar getCampaign = require('./campaign');\nvar browser = require('./browser');\n\nvar DOMMeta = function (o) {\n    if (o.length < 2) return false;\n    return (typeof o[1] === 'object' && typeof o[1].tagName === 'undefined') ? o[1] : false;\n};\n\nvar pageview = function () {\n    var title = browser.document.title;\n    var location = browser.window.location.protocol + '//' + browser.window.location.host + browser.window.location.pathname + browser.window.location.hash + browser.window.location.search;\n    return { type: 'pageview', location: location, title: title };\n};\n\nvar sectionentered = function (section, page) {\n    return { type: 'section_entered', section: section };\n};\n\nvar custom = function (event) {\n    var baseEvent = pageview();\n    baseEvent.type = 'custom';\n    baseEvent.event = event;\n    return baseEvent;\n};\n\nvar gatherMetaInfo = function gatherMetaInfo(a) {\n    var event = a[0];\n    var eventBody = {};\n    if (event) {\n        switch (event.trim()) {\n            case 'pageview':\n                eventBody = pageview.apply(null, [].slice.call(a, 1));\n                break;\n            case 'sectionentered':\n                eventBody = sectionentered.apply(null, [].slice.call(a, 1));\n                break;\n            default:\n                eventBody = custom.apply(null, a);\n        }\n        return eventBody;\n    }\n    throw new Error('Upsi! There is something wrong with this event:', a);\n};\n\n\nvar gatherSystemInfo = function (e) {\n    var sess = session.getSession();\n    e.t = formatting.formatDateTime(new Date());\n    e.session = sess.id;\n    e.referrer = sess.referrer || '';\n    var campaign = sess.campaign;\n    if (campaign) e.campaign = campaign;\n    e.uid = user.getUserId();\n    var partnerId = browser.window.sessionStorage.getItem('__as.partner_id');\n    var partnerSId = browser.window.sessionStorage.getItem('__as.partner_sid');\n    if (partnerId) {\n        e.partner_id = partnerId;\n    }\n    if (partnerSId) {\n        e.partner_sid = partnerSId;\n    }\n    e.tenant_id = browser.window.asaId;\n    e.v = info.version();\n    return e;\n};\n\nvar postboxEvents = function(type, e, meta){\n    var defaultEventInfo = {\n        \"type\" : type,\n        \"occurred\" : meta.t,\n        \"origin\" : browser.window.location.host,\n        \"user\" : {\n            \"did\" : meta.uid,\n            \"sid\" : meta.session\n        },\n        \"page\" : {\n            \"url\" : browser.window.location.protocol + '//' + browser.window.location.host + browser.window.location.pathname + browser.window.location.hash + browser.window.location.search,\n            \"referrer\" : meta.referrer\n        },\n        \"v\" : meta.v,\n        \"campaign\" : meta.campaign,\n        \"tenant\" : meta.tenant_id\n    };\n    if (meta.partner_id) defaultEventInfo.partnerId = meta.partner_id;\n    if (meta.partner_sid) defaultEventInfo.partnerSId = meta.partner_sid;\n    return _.override(defaultEventInfo, e);\n}\nmodule.exports = {\n    newpackage: function newpackages(eventName, eventInfo, extra) {\n        var meta = gatherMetaInfo(arguments);\n        meta = gatherSystemInfo(meta);\n        return postboxEvents(eventName, eventInfo, meta);\n    },\n    package: function (eventname, domElement, extra) {\n\n        var event = gatherMetaInfo(arguments);\n        event = gatherSystemInfo(event);\n        // if (arguments[0] == 'pageview') {\n        //     return null;\n        // } else\n        if (arguments[0] == 'sessionStarted') {\n            event.meta = microdata.extractFromHead();\n            if (typeof arguments[1] === 'object') {\n                event.meta = _.override(event.meta, arguments[1]);\n            }\n        } else\n                if (arguments[0] == 'itemview') {\n                    event.meta = DOMMeta(arguments) || microdata.extract(arguments[1]);\n                } else\n                    if (arguments[0] == 'sectionentered') {\n                        event.meta = DOMMeta(arguments) || microdata.extract(arguments[1]);\n                    } else {\n                        var meta = undefined;\n                        if (typeof domElement === 'string' || (typeof domElement === 'object' && typeof domElement.tagName !== 'undefined')) {\n                            meta = microdata.extract(domElement);\n                        } else\n                            if (typeof extra === 'undefined' && typeof domElement === 'object') {\n                                extra = domElement;\n                                domElement = null;\n                            }\n                        meta = _.override(meta, extra);\n                        if (meta !== undefined) event.meta = meta;\n                    }\n        return event;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/event.js\n// module id = 30\n// module chunks = 0 1","var parseUri = require('./parseuri');\nvar browser = require('./browser');\nmodule.exports = function getCampaign(location, referrer) {\n    var campaignKeys;\n    referrer = parseUri(referrer);\n    location = parseUri(location);\n    if (referrer.queryKey && referrer.queryKey['utm_campaign'])\n        campaignKeys = campaignKeys || referrer.queryKey;\n\n    if (location.queryKey && location.queryKey['utm_campaign'])\n        campaignKeys = campaignKeys || location.queryKey;\n\n    if (campaignKeys) {\n        var campaign = {};\n        if (campaignKeys.utm_campaign) campaign.campaign = campaignKeys.utm_campaign;\n        if (campaignKeys.utm_source) campaign.source = campaignKeys.utm_source;\n        if (campaignKeys.utm_medium) campaign.medium = campaignKeys.utm_medium;\n        if (campaignKeys.utm_term) campaign.term = campaignKeys.utm_term;\n        if (campaignKeys.utm_content) campaign.content = campaignKeys.utm_content;\n        return campaign;\n    }\n    var utmKeys = ['utm_medium','utm_source','utm_campaign','utm_content','utm_term'];\n\n    var __as__campagin = {};\n    utmKeys.forEach(function (utm_key) {\n        var utm_value = browser.window.sessionStorage.getItem('__as.' +  utm_key);\n        if (utm_value) {\n            __as__campagin[utm_key] = utm_value;\n        }\n    });\n    if (Object.keys(__as__campagin).length) {\n        var asCampaign = {};\n        if (__as__campagin.utm_campaign) asCampaign.campaign = __as__campagin.utm_campaign;\n        if (__as__campagin.utm_source) asCampaign.source = __as__campagin.utm_source;\n        if (__as__campagin.utm_medium) asCampaign.medium = __as__campagin.utm_medium;\n        if (__as__campagin.utm_term) asCampaign.term = __as__campagin.utm_term;\n        if (__as__campagin.utm_content) asCampaign.content = __as__campagin.utm_content;\n        return asCampaign;\n    }\n    return null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/campaign.js\n// module id = 31\n// module chunks = 0 1","var parseuri = require('./parseuri');\nmodule.exports = function(location, referrer, serviceProviders) {\n    if (referrer && referrer.length > 0) {\n        var referrerAuth = parseuri(referrer).authority;\n        var currentAuth = parseuri(location).authority;\n        if (referrerAuth != currentAuth && serviceProviders.indexOf(referrerAuth) === -1) {\n            return referrer;\n        }\n    }\n    return null;\n}\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/referrer.js\n// module id = 32\n// module chunks = 0 1"],"sourceRoot":""}